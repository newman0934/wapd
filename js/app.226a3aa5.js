(function(t){function e(e){for(var s,i,o=e[0],c=e[1],u=e[2],l=0,p=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],s=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=r[0]))}return t}var s={},a={app:0},n=[];function i(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=s,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=c;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var s=r("85ec"),a=r.n(s);a.a},"12ae":function(t,e,r){"use strict";var s=r("13e0"),a=r.n(s);a.a},"13e0":function(t,e,r){},1845:function(t,e,r){},"1b0a":function(t,e,r){"use strict";var s=r("3573"),a=r.n(s);a.a},"2a76":function(t,e,r){},"2b18":function(t,e,r){"use strict";var s=r("9ed5"),a=r.n(s);a.a},"325a":function(t,e,r){t.exports=r.p+"img/loading.b0d3b945.gif"},3573:function(t,e,r){},"35e6":function(t,e,r){"use strict";var s=r("871f"),a=r.n(s);a.a},"41c8":function(t,e,r){"use strict";var s=r("1845"),a=r.n(s);a.a},4678:function(t,e,r){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=n(t);return r(e)}function n(t){if(!r.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id="4678"},"4c49":function(t,e,r){},5420:function(t,e,r){"use strict";var s=r("f0ba"),a=r.n(s);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("navigation"),r("main",{staticClass:"mt-5 bg-white",attrs:{role:"main"}},[r("router-view")],1),r("indexFooter")],1)},n=[],i=(r("4989"),r("ab8b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"navigation-wrap start-header start-style fixed-top"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("nav",{staticClass:"navbar navbar-expand-md"},[r("router-link",{staticClass:"navbar-brand col-2",attrs:{to:{name:"index"}}},[r("img",{staticStyle:{"max-width":"100px"},attrs:{src:"https://i.imgur.com/EgWXuwm.png",alt:"logo"}})]),r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("font-awesome-icon",{staticClass:"bar",attrs:{icon:"bars",size:"2x"}})],1),r("div",{staticClass:"collapse navbar-collapse col-10",attrs:{id:"navbarSupportedContent"}},[r("ul",{staticClass:"navbar-nav ml-auto"},[r("li",{staticClass:"nav-item pl-4 m-auto"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"index"}}},[t._v("HOME")])],1),r("li",{staticClass:"nav-item pl-4 my-auto pl-md-0 ml-0 ml-md-4"},[t.inAboutPage?r("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#aboutUs",expression:"'#aboutUs'"}],staticClass:"nav-link",staticStyle:{cursor:"pointer"}},[t._v("關於我們")]):r("router-link",{staticClass:"nav-link",attrs:{to:{name:"about"}}},[t._v("關於我們")])],1),r("li",{staticClass:"nav-item dropdown my-auto pl-4 pl-md-0 ml-0 ml-md-4"},[r("a",{staticClass:"nav-link dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[t._v("商品資訊")]),r("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},t._l(t.categories,(function(e){return r("router-link",{key:e.id,staticClass:"dropdown-item",attrs:{to:{name:"products",query:{categoryId:e.id}}}},[t._v(t._s(e.category))])})),1)]),r("li",{staticClass:"nav-item pl-4 my-auto"},[t.inAboutPage?r("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#contact",expression:"'#contact'"}],staticClass:"navbar-link",attrs:{href:"#"}},[t._v("聯絡我們")]):r("a",{staticClass:"navbar-link",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.gotoContact("#contact")}}},[t._v("聯絡我們")])]),t.isAuthenticated&&"admin"!==!t.currentUser.role?t._e():[r("li",{staticClass:"nav-item pl-4 my-auto pl-md-0 ml-0 ml-md-4"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"signIn"}}},[t._v("管理者登入")])],1)],t.isAuthenticated||"admin"===t.currentUser.role?[r("li",{staticClass:"nav-item pl-4 my-auto pl-md-0 ml-0 ml-md-4"},[r("a",{staticClass:"nav-link my-2 my-sm-0",attrs:{href:"#"},on:{click:t.logout}},[t._v("登出")])])]:t._e(),"admin"===t.currentUser.role?[r("li",{staticClass:"nav-item pl-4 my-auto pl-md-0 ml-0 ml-md-4"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"adminProducts"}}},[r("font-awesome-icon",{attrs:{icon:"user-cog",size:"2x"}})],1)],1)]:t._e()],2)])],1)])])])])}),o=[],c=(r("a4d3"),r("4de4"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("96cf"),r("ade3")),u=r("2f62"),d=r("bc3a"),l=r.n(d),p=r("3d20"),m=r.n(p),v="";v="https://wapd-api.herokuapp.com/api";var h=l.a.create({baseURL:v,withCredentials:!0});h.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers["Authorization"]="Bearer ".concat(e)),t}),(function(t){return Promise.reject(t)}));var f=h,g=m.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),b={getCategories:function(){return f.get("/categories")}};function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C={data:function(){return{categories:[]}},computed:w({},Object(u["b"])(["currentUser","isAuthenticated"]),{inAboutPage:function(){return"about"==this.$route.name}}),created:function(){this.fetchCategories()},beforeRouteUpdate:function(t,e,r){this.fetchCategories(),r()},methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/index")},fetchCategories:function(){var t,e,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,this.$store.dispatch("updateProcessing",!1),s.next=4,regeneratorRuntime.awrap(b.getCategories());case 4:if(t=s.sent,e=t.data,r=t.statusText,"OK"===r){s.next=9;break}throw new Error(r);case 9:this.categories=e.categories,s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](0),g.fire({icon:"error",title:"取得類別資料失敗"});case 15:case"end":return s.stop()}}),null,this,[[0,12]])},gotoContact:function(t){this.$router.push({name:"about",query:{el:t}})}}},y=C,P=(r("f90c"),r("2877")),x=Object(P["a"])(y,i,o,!1,null,null,null),O=x.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"page-footer font-small indigo"},[r("div",{staticClass:"container text-center text-md-left"},[r("div",{staticClass:"row py-5"},[t._m(0),r("div",{staticClass:"col-md-4 mx-auto text-center"},[r("h5",{staticClass:"font-weight-bold text-uppercase my-3"},[t._v("聯絡我們")]),r("hr"),r("ul",{staticClass:"list-unstyled"},[r("li",[r("p",[r("font-awesome-icon",{attrs:{icon:["fas","map-marker"],size:"1x"}}),t._v("台中市太平區太順路403號 ")],1)]),r("li",[r("p",[r("font-awesome-icon",{attrs:{icon:["fas","phone"],size:"1x"}}),t._v(" Dream man (04)23937584 ")],1)]),r("li",[r("p",[r("font-awesome-icon",{attrs:{icon:["fas","phone"],size:"1x"}}),t._v(" Apex（04）22254702 ")],1)])])]),r("div",{staticClass:"col-md-4 text-center"},[r("h5",{staticClass:"font-weight-bold text-uppercase my-3"},[t._v("社群連結")]),r("hr"),r("div",{staticClass:"row justify-content-center"},[r("div",[r("a",{staticClass:"mr-4",attrs:{href:"https://www.instagram.com/dreamman0831/?hl=zh-tw"}},[r("font-awesome-icon",{attrs:{icon:["fab","instagram"],size:"3x"}})],1)]),r("div",[r("a",{staticClass:"mr-4",attrs:{href:"https://www.facebook.com/KGT-%E5%B0%8F%E5%BA%B5%E7%9A%84%E5%BA%97-405388429508237/",target:"_blank"}},[r("font-awesome-icon",{attrs:{icon:["fab","facebook-square"],size:"3x"}})],1)])])])])])])},j=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-md-4 mx-auto text-center justify-content-center"},[r("h5",{staticClass:"font-weight-bold text-uppercase my-3"},[t._v("購買方式解說")]),r("hr"),r("p",{staticClass:"text-left"},[t._v("WAP-D官網僅供展示 購買請前往社群連結，洽詢線上客服及門市")]),r("p",{staticClass:"text-left"},[t._v("為了提供您最好的服務品質，建議可選擇【門市預約】。 但需要預約時間，以便提供造型服務、量身修改等服務。 (預約時間造型師24H內會與您聯繫，請留意來電)")])])}],A={components:{}},$=A,S=(r("68b3"),Object(P["a"])($,k,j,!1,null,null,null)),E=S.exports,I={name:"App",components:{navigation:O,indexFooter:E}},D=I,R=(r("034f"),Object(P["a"])(D,a,n,!1,null,null,null)),N=R.exports,L=(r("caad"),r("2532"),r("8c4f")),U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h1",[t._v(" 404 Page Not Found ")])},T=[],q={},z=Object(P["a"])(q,U,T,!1,null,null,null),F=z.exports,M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"py-5"},[t.isLoading?r("div",[r("spinner")],1):r("div",[r("index-carousel"),r("div",{staticClass:"w-70"},[r("div",{staticClass:"container col-md-12"},[r("h1",[t._v("最新商品")]),r("hr"),r("div",{staticClass:"row"},t._l(t.products,(function(e){return r("productCard",{key:e.id,attrs:{"initial-product":e,"card-height":t.productCardHeight}})})),1),r("hr"),r("index-category")],1)])],1)])},K=[],B=(r("d81d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid pb-5"},[s("div",{staticClass:"carousel slide",attrs:{id:"indexCarousel","data-ride":"carousel"}},[s("ol",{staticClass:"carousel-indicators"},t._l(t.data,(function(t,e){return s("li",{key:t.id,class:{active:0===e},attrs:{"data-target":"#indexCarousel","data-slide-to":t.id}})})),0),s("div",{staticClass:"carousel-inner"},t._l(t.data,(function(e,a){return s("div",{key:e.id,staticClass:"carousel-item",class:{active:0===a}},[s("vue-load-image",[s("img",{staticClass:"d-block w-100",attrs:{slot:"image",src:e.image},slot:"image"}),s("img",{staticClass:"d-block",attrs:{slot:"preloader",height:"400px",width:"100%",src:r("e217")},slot:"preloader"}),s("div",{staticClass:"cd-block w-100",attrs:{slot:"error"},slot:"error"},[t._v("圖片下載失敗")])])],1)})),0),t._m(0),t._m(1)])])}),V=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{staticClass:"carousel-control-prev",attrs:{href:"#indexCarousel",role:"button","data-slide":"prev"}},[r("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),r("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{staticClass:"carousel-control-next",attrs:{href:"#indexCarousel",role:"button","data-slide":"next"}},[r("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),r("span",{staticClass:"sr-only"},[t._v("Next")])])}],W=r("118d"),H=r.n(W),Q=[{id:0,image:"https://i.imgur.com/FwrmOep.jpg"}],G={components:{"vue-load-image":H.a},data:function(){return{data:[]}},created:function(){this.data=Q}},Y=G,X=Object(P["a"])(Y,B,V,!1,null,null,null),J=X.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container indexCategory"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"single-banner mb-20 mb-3"},[s("div",{staticClass:"banner-img"},[s("vue-load-image",[s("img",{attrs:{slot:"image",src:"https://i.imgur.com/29i3jLA.jpg"},slot:"image"}),s("img",{attrs:{slot:"preloader",height:"323px",width:"275px",src:r("e217")},slot:"preloader"}),s("div",{staticClass:"cd-block w-100",attrs:{slot:"error"},slot:"error"},[t._v("圖片下載失敗")])]),s("router-link",{staticClass:"mask",attrs:{to:{name:"products",query:{categoryId:21}}}},[t._v("上衣")])],1)]),s("div",{staticClass:"single-banner mb-3"},[s("div",{staticClass:"banner-img"},[s("vue-load-image",[s("img",{attrs:{slot:"image",src:"https://demo.hasthemes.com/mimosa-preview/mimosa/img/banner/1.jpg"},slot:"image"}),s("img",{attrs:{slot:"preloader",height:"207px",width:"275px",src:r("e217")},slot:"preloader"}),s("div",{staticClass:"cd-block w-100",attrs:{slot:"error"},slot:"error"},[t._v("圖片下載失敗")])]),s("a",{staticClass:"mask",attrs:{href:"#"}},[t._v("comming soon")])],1)])]),s("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-12 pull-right"},[s("div",{staticClass:"single-banner mb-20"},[s("div",{staticClass:"banner-img"},[s("vue-load-image",[s("img",{attrs:{slot:"image",src:"https://demo.hasthemes.com/mimosa-preview/mimosa/img/banner/5.jpg"},slot:"image"}),s("img",{attrs:{slot:"preloader",height:"207px",width:"275px",src:r("e217")},slot:"preloader"}),s("div",{staticClass:"cd-block w-100",attrs:{slot:"error"},slot:"error"},[t._v("圖片下載失敗")])]),s("a",{staticClass:"mask",attrs:{href:"#"}},[t._v("comming soon")])],1)]),s("div",{staticClass:"single-banner mb-3"},[s("div",{staticClass:"banner-img"},[s("vue-load-image",[s("img",{attrs:{slot:"image",src:"https://i.imgur.com/qVBy4mB.jpg"},slot:"image"}),s("img",{attrs:{slot:"preloader",height:"323px",width:"275px",src:r("e217")},slot:"preloader"}),s("div",{staticClass:"cd-block w-100",attrs:{slot:"error"},slot:"error"},[t._v("圖片下載失敗")])]),s("router-link",{staticClass:"mask",attrs:{to:{name:"products",query:{categoryId:11}}}},[t._v("褲子")])],1)])]),s("div",{staticClass:"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"single-banner"},[s("vue-load-image",[s("img",{attrs:{slot:"image",src:"https://i.imgur.com/qeIQATh.jpg"},slot:"image"}),s("img",{attrs:{slot:"preloader",height:"550px",width:"580px",src:r("e217")},slot:"preloader"}),s("div",{staticClass:"cd-block w-100",attrs:{slot:"error"},slot:"error"},[t._v("圖片下載失敗")])]),s("router-link",{staticClass:"mask",attrs:{to:{name:"products",query:{categoryId:31}}}},[t._v("西裝")])],1)])])])},tt=[],et={components:{"vue-load-image":H.a}},rt=et,st=(r("1b0a"),Object(P["a"])(rt,Z,tt,!1,null,null,null)),at=st.exports,nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-md-6 col-lg-4"},[r("div",{staticClass:"card mb-3",attrs:{id:"product-card"}},[r("router-link",{attrs:{to:{name:"product",params:{id:t.product.id}}}},[r("div",{staticClass:"image-frame border rounded",style:t.imageFrameStyle},[r("div",{staticStyle:{"vertical-align":"middle"}},[r("vue-load-image",[r("img",{ref:"productImg",staticClass:"img-fluid",style:t.imageStyle,attrs:{slot:"image",src:t.cardImg,alt:"card-image-cap"},slot:"image"}),r("div",{staticClass:"align-middle",attrs:{slot:"error"},slot:"error"},[t._v("圖片下載失敗")])])],1)]),r("div",{staticClass:"card-body p-1"},[r("p",{staticClass:"card-title text-left text-dark"},[t._v(t._s(t.product.name))])])]),r("div",{staticClass:"row ml-1 mt-0"},[r("div",{staticClass:"col-8"},[r("p",{staticClass:"price text-left"},[r("span",{staticClass:"text-muted font-weight-bold mr-1"},[r("del",[t._v(t._s(t._f("currency")(t.product.origin_price)))])]),r("strong",[t._v(t._s(t._f("currency")(t.product.sell_price)))])])]),t.isAuthenticated?r("div",{staticClass:"col-4 text-right position-relative"},[r("div",{staticClass:"d-inline"},[t.product.isFavorited?r("button",{staticClass:"btn text-danger mr-2 mt-n1",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFavorite(t.product.id)}}},[r("font-awesome-icon",{attrs:{icon:"heart",size:"1x"}})],1):r("button",{staticClass:"btn text-danger mr-2 mt-n1",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFavorite(t.product.id)}}},[r("font-awesome-icon",{attrs:{icon:["far","heart"],size:"1x"}})],1)])]):r("div",{staticClass:"col-4 text-right position-relative"},[r("div",{staticClass:"d-inline"},[r("button",{staticClass:"btn text-danger mr-2 mt-n1",attrs:{type:"button","data-container":"body","data-toggle":"popover-hover","data-placement":"bottom","data-content":t.dataContent}},[r("font-awesome-icon",{staticClass:"heart-icon",attrs:{icon:["far","heart"]}})],1)])])])],1)])},it=[],ot=(r("a9e3"),r("25f0"),r("5319"),r("c1df")),ct=r.n(ot),ut={filters:{timeFormate:function(t){return t?ct()(t).format("YYYY-MM-DD, HH:mm"):"-"}}},dt={filters:{currency:function(t){return"NTD "+t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}}},lt=r("1157"),pt=r.n(lt);function mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ht={mixins:[dt],components:{"vue-load-image":H.a},props:{initialProduct:{type:Object,required:!0},cardHeight:{type:Number,required:!0}},data:function(){return{product:this.initialProduct,cardImg:"",imageFrameStyle:{height:this.cardHeight+"rem",lineHeight:this.cardHeight+"rem",background:"#f2f2f2"},imageStyle:{maxHeight:this.cardHeight+"rem"}}},created:function(){this.cardImg=this.product.image[0].url},mounted:function(){pt()((function(){pt()('[data-toggle="popover-hover"]').popover({html:!0,trigger:"hover",delay:{hide:500}})}))},computed:{isAuthenticated:function(){return this.$store.state.isAuthenticated},isProcessing:function(){return this.$store.state.isProcessing},dataContent:function(){return"<a href='/wapd-frontend/#/signin'>立即登入/註冊</a>"}},methods:{addFavorite:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(this.$store.dispatch("addFavorite",t));case 3:this.product=vt({},this.product,{isFavorited:!0}),e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),null,this,[[0,6]])},deleteFavorite:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(this.$store.dispatch("deleteFavorite",t));case 3:this.product=vt({},this.product,{isFavorited:!1}),e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),null,this,[[0,6]])},imgMouseover:function(t){this.cardImg=t[1].url},imgMouseleave:function(t){this.cardImg=t[0].url}}},ft=ht,gt=(r("35e6"),Object(P["a"])(ft,nt,it,!1,null,"67ef4572",null)),bt=gt.exports,_t=(r("3ca3"),r("ddb0"),r("2b3d"),{getProducts:function(t){var e=t.page,r=t.categoryId,s=new URLSearchParams({page:e,categoryId:r});return f.get("/products?".concat(s.toString()))},getProduct:function(t){var e=t.productId;return f.get("/products/".concat(e))},addFavorite:function(t){var e=t.productId;return f.post("/products/".concat(e,"/wishlist"),null)},deleteFavorite:function(t){var e=t.productId;return f.delete("/products/".concat(e,"/wishlist"))}}),wt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ct=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"loadingio-spinner-spinner-occk5yjahs"},[r("div",{staticClass:"ldio-s8txmxlwrj"},[r("div"),r("div"),r("div"),r("div"),r("div"),r("div"),r("div"),r("div"),r("div"),r("div"),r("div"),r("div")])])])}],yt=(r("8c9f"),{}),Pt=Object(P["a"])(yt,wt,Ct,!1,null,null,null),xt=Pt.exports;function Ot(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var jt={components:{indexCarousel:J,indexCategory:at,productCard:bt,spinner:xt},data:function(){return{products:[],productCardHeight:31.5}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){var t=1,e="";this.fetchProducts({page:t,categoryId:e})},methods:{fetchProducts:function(t){var e,r,s,a,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return e=t.page,r=t.categoryId,o.prev=1,this.$store.dispatch("updateLoading",!0),o.next=5,regeneratorRuntime.awrap(_t.getProducts({page:e,categoryId:r}));case 5:if(s=o.sent,a=s.data,n=s.statusText,"OK"===n){o.next=10;break}throw new Error(n);case 10:i=this.$store.state.wishList,this.$store.state.isAuthenticated&&i.length>0?this.products=a.products.map((function(t){return kt({},t,{isFavorited:i.map((function(t){return t.id})).includes(t.id)})})):this.products=a.products,this.$store.dispatch("updateLoading",!1),o.next=19;break;case 15:o.prev=15,o.t0=o["catch"](1),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得商品資訊，請稍後再試"});case 19:case"end":return o.stop()}}),null,this,[[1,15]])}}},At=jt,$t=Object(P["a"])(At,M,K,!1,null,null,null),St=$t.exports,Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[t.isLoading?r("div",[r("spinner")],1):r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-2"},[r("leftCategoryNav",{attrs:{categories:t.categories}})],1),r("div",{staticClass:"col-md-10"},[r("div",{staticClass:"row"},t._l(t.products,(function(e){return r("productCard",{key:e.id,attrs:{"initial-product":e,"card-height":t.productCardHeight}})})),1),t.totalPage>1?r("productsPagination",{attrs:{"category-id":t.categoryId,"current-page":t.currentPage,"total-page":t.totalPage}}):t._e()],1)])])},It=[],Dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content-to-hide"},[r("h5",[t._v("分類")]),r("nav",{staticClass:"navbar navbar-light"},[r("ul",{staticClass:"navbar-nav flex-column"},[r("li",{staticClass:"nav-item d-flex justify-content-between align-items-center",class:{active:"all"==t.currentCategory}},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"products"}}},[t._v("所有商品")])],1),t._l(t.categories,(function(e){return r("li",{key:e.id,staticClass:"nav-item d-flex justify-content-between align-items-center",class:{active:t.currentCategory==e.id}},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"products",query:{categoryId:e.id}}}},[t._v(t._s(e.category))])],1)}))],2)])])},Rt=[],Nt={props:{categories:{type:Array,required:!0}},computed:{currentCategory:function(){var t=this.$route.query;return t||"all"}}},Lt=Nt,Ut=(r("5420"),Object(P["a"])(Lt,Dt,Rt,!1,null,null,null)),Tt=Ut.exports,qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{attrs:{"aria-label":"Page navigation example"}},[r("ul",{staticClass:"pagination"},[r("li",{directives:[{name:"show",rawName:"v-show",value:t.previousPage,expression:"previousPage"}],staticClass:"page-item"},[r("router-link",{staticClass:"page-link",attrs:{"aria-label":"Previous",to:{name:"products",query:{categoryId:t.categoryId,page:t.previousPage}}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])],1),t._l(t.totalPage,(function(e){return r("li",{key:e,staticClass:"page-item",class:["page-item",{active:t.currentPage===e}]},[r("router-link",{staticClass:"page-link",attrs:{to:{name:"products",query:{categoryId:t.categoryId,page:e}}}},[t._v(t._s(e))])],1)})),r("li",{directives:[{name:"show",rawName:"v-show",value:t.nextPage,expression:"nextPage"}],staticClass:"page-item"},[r("router-link",{staticClass:"page-link",attrs:{"aria-label":"Next",to:{name:"products",query:{categoryId:t.categoryId,page:t.nextPage}}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])],1)],2)])},zt=[],Ft={props:{categoryId:{type:Number,default:-1},currentPage:{type:Number,default:1},totalPage:{type:Number,default:-1}},computed:{previousPage:function(){return 1===this.currentPage?null:this.currentPage-1},nextPage:function(){return this.currentPage+1>this.totalPage?null:this.currentPage+1}}},Mt=Ft,Kt=Object(P["a"])(Mt,qt,zt,!1,null,null,null),Bt=Kt.exports;function Vt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ht={components:{leftCategoryNav:Tt,productCard:bt,productsPagination:Bt,spinner:xt},data:function(){return{products:[],categories:[],categoryId:"",currentPage:1,totalPage:0,productCardHeight:26.5}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){var t=this.$route.query,e=t.page,r=t.categoryId;this.fetchProducts({page:e,categoryId:r})},beforeRouteUpdate:function(t,e,r){var s=t.query,a=s.page,n=s.categoryId;this.fetchProducts({page:a,categoryId:n}),r()},methods:{fetchProducts:function(t){var e,r,s,a,n,i,o,c;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:return e=t.page,r=void 0===e?1:e,s=t.categoryId,a=void 0===s?"":s,u.prev=1,this.$store.dispatch("updateLoading",!0),u.next=5,regeneratorRuntime.awrap(_t.getProducts({page:r,categoryId:a}));case 5:if(n=u.sent,i=n.data,o=n.statusText,"OK"===o){u.next=10;break}throw new Error(o);case 10:c=this.$store.state.wishList,this.$store.state.isAuthenticated&&c.length>0?this.products=i.products.map((function(t){return Wt({},t,{isFavorited:c.map((function(t){return t.id})).includes(t.id)})})):this.products=i.products,0!==i.categoryId&&(this.categoryId=i.categoryId),this.categories=i.categories,this.currentPage=i.page,this.totalPage=i.totalPage.length,this.$store.dispatch("updateLoading",!1),u.next=23;break;case 19:u.prev=19,u.t0=u["catch"](1),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得商品資訊，請稍後再試"});case 23:case"end":return u.stop()}}),null,this,[[1,19]])}}},Qt=Ht,Gt=Object(P["a"])(Qt,Et,It,!1,null,null,null),Yt=Gt.exports,Xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[t.isLoading?r("div",[r("spinner")],1):r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("productBreadcrumb",{attrs:{path:t.path}})],1),r("div",{staticClass:"col-md-8"},[r("productCarousel",{attrs:{"product-images":t.productImgs}})],1),r("div",{staticClass:"col-md-4"},[r("productDetail",{attrs:{"initial-product":t.product}})],1)])])},Jt=[],Zt=(r("e01a"),r("6062"),r("2909")),te=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",{staticClass:"breadcrumb"},[r("li",[r("router-link",{attrs:{to:{name:"index"}}},[t._v("Home")]),r("span",{staticClass:"divider"},[t._v(">")])],1),r("li",[r("router-link",{attrs:{to:{name:"products"}}},[t._v("購物商城")]),r("span",{staticClass:"divider"},[t._v(">")])],1),r("li",[r("router-link",{attrs:{to:{name:"products",query:{categoryId:t.path.categoryId}}}},[t._v(t._s(t.path.categoryName))]),r("span",{staticClass:"divider"},[t._v(">")])],1),r("li",{staticClass:"active"},[t._v(t._s(t.path.name))])])])},ee=[],re={props:{path:{type:Object,required:!0}},data:function(){return{product:this.path}}},se=re,ae=Object(P["a"])(se,te,ee,!1,null,null,null),ne=ae.exports,ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("div",{staticClass:"carousel"},[s("div",{staticClass:"carousel-inner"},[s("div",{staticClass:"carousel-item active"},[s("vue-load-image",[s("img",{staticClass:"d-block w-100",attrs:{slot:"image",src:t.imageUrl,alt:"slide"},slot:"image"}),s("img",{staticClass:"d-block w-100",attrs:{slot:"preloader",src:r("325a")},slot:"preloader"}),s("div",{staticClass:"d-block w-100",attrs:{slot:"error"},slot:"error"},[t._v("圖片下載失敗")])])],1)])])]),s("div",{staticClass:"row mt-2 mb-2"},t._l(t.images,(function(e){return s("div",{key:e.id,staticClass:"col-2 col-sm-2 col-md-2"},[s("div",{staticClass:"card"},[s("vue-load-image",[s("img",{staticClass:"card-img-top",staticStyle:{cursor:"pointer"},attrs:{slot:"image",src:e.url},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.toggleImageUrl(e.url)}},slot:"image"}),s("img",{staticClass:"card-img-top",attrs:{slot:"preloader",src:r("e217")},slot:"preloader"}),s("div",{staticClass:"card-img-top",attrs:{slot:"error"},slot:"error"},[t._v("圖片下載失敗")])])],1)])})),0)])},oe=[];function ce(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function ue(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var de={components:{"vue-load-image":H.a},props:{productImages:{type:Array,required:!0}},data:function(){return{images:this.productImages,imageUrl:""}},created:function(){this.imageUrl=this.images[0].url},watch:{productImages:function(t){this.images=ue({},this.images,{},t)}},methods:{toggleImageUrl:function(t){this.imageUrl=t}}},le=de,pe=(r("e9fb"),Object(P["a"])(le,ie,oe,!1,null,null,null)),me=pe.exports,ve=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.addToCartSubmit(e)}}},[r("div",{staticClass:"text-left"},[r("h2",{staticClass:"product-name"},[t._v(t._s(t.product.name))])]),r("div",{staticClass:"d-flex flex-row mb-4"},[r("div",{staticClass:"text-left text-muted mr-2"},[r("p",{staticClass:"product-price"},[r("del",[t._v(t._s(t._f("currency")(t.product.sellPrice)))])])]),r("div",{staticClass:"text-left"},[r("h5",{staticClass:"product-price"},[t._v(t._s(t._f("currency")(t.product.sellPrice)))])])]),r("p",[t._v(t._s(t.product.description))]),r("div",{staticClass:"input-group mb-3"},[t._m(0),r("select",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],staticClass:"custom-select",attrs:{name:"size",id:"size"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.size=e.target.multiple?r:r[0]}}},[r("option",{attrs:{selected:""}},[t._v("Choose...")]),t._l(t.product.sizeSet,(function(e){return r("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)]),r("div",{staticClass:"input-group mb-3"},[t._m(1),r("select",{directives:[{name:"model",rawName:"v-model",value:t.color,expression:"color"}],staticClass:"custom-select",attrs:{name:"color",id:"color"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.color=e.target.multiple?r:r[0]}}},[r("option",{attrs:{selected:""}},[t._v("Choose...")]),t._l(t.product.colorSet,(function(e){return r("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)]),r("div",{staticClass:"input-group mb-3"},[t._m(2),r("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],attrs:{type:"number",name:"quentity",value:"0","data-decimals":"0",min:"0",max:"10",step:"1",required:""},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}})]),r("button",{staticClass:"btn btn-outline-secondary btn-block",attrs:{type:"submit"}},[t._v("Add to cart")])]),t.isAuthenticated?r("div",{staticClass:"mt-1"},[t.product.isFavorited?r("button",{staticClass:"btn btn-sm text-danger btn-block mr-2",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFavorite(t.product.id)}}},[r("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"heart",size:"1x"}}),t._v("已加入 Wish List ")],1):r("button",{staticClass:"btn btn-sm text-danger btn-block mr-2",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFavorite(t.product.id)}}},[r("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:["far","heart"],size:"1x"}}),t._v("加入 Wish List ")],1)]):r("div",{staticClass:"mt-1"},[r("button",{staticClass:"btn btn-sm text-danger btn-block mr-2",attrs:{type:"button","data-container":"body","data-toggle":"popover","data-placement":"bottom","data-content":"立即登入/註冊"},on:{mouseover:t.heartToggle}},[r("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:["far","heart"],size:"1x"}}),t._v("加入 Wish List ")],1)]),r("div",{staticClass:"ml-2 mt-4 text-left"},[r("p",{staticClass:"d-inline"},[t._v("分享到：")]),r("social-sharing",{staticClass:"d-inline",attrs:{url:t.currentURL},inlineTemplate:{render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"sharing-icon"}},[r("network",{staticClass:"mr-2 text-primary",attrs:{network:"facebook"}},[r("font-awesome-icon",{attrs:{icon:["fab","facebook-square"],size:"2x"}})],1),r("network",{staticClass:"text-success",attrs:{network:"line"}},[r("font-awesome-icon",{attrs:{icon:["fab","line"],size:"2x"}})],1)],1)},staticRenderFns:[]}})],1)])},he=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"input-group-prepend"},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"}},[t._v("Size")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"input-group-prepend"},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"}},[t._v("Color")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"input-group-prepend"},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"}},[t._v("Quantity")])])}],fe={getUserCart:function(){return f.get("/users/cart")},deleteCartItem:function(t){var e=t.itemId;return f.delete("users/cart/".concat(e))},putCartItem:function(t){var e=t.itemId,r=t.quantity;return f.put("/users/cart/".concat(e),{quantity:r})},postCoupon:function(t){var e=t.couponCode;return f.post("/coupon",{couponCode:e})},postCart:function(t){var e=t.formData;return f.post("/products/cart",e)},notLoginPostCart:function(t){var e=t.formData;return f.post("/products/notLoginCart",e)},postOrder:function(t){var e=t.formData;return f.post("/users/orders",e)},getCheckout:function(t){var e=t.orderId;return f.get("/orders/".concat(e,"/checkout"))},postCheckout:function(t){var e=t.formData;return f.post("/orders/checkout",e)},getPayment:function(t){return f.get("/orders/".concat(t,"/payment"))},getPaymentComplete:function(t){var e=t.Status,r=t.orderId,s=new URLSearchParams({Status:e,orderId:r});return f.get("/users/paymentcomplete?".concat(s.toString()))}};function ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function be(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var _e={mixins:[dt],props:{initialProduct:{type:Object,required:!0}},data:function(){return{product:this.initialProduct,quantity:0,size:"",color:""}},computed:be({},Object(u["b"])(["currentUser","isProcessing"]),{isAuthenticated:function(){return this.$store.state.isAuthenticated},formData:function(){var t=this.size,e=this.color,r=this.quantity;return{productId:this.product.id,size:t,color:e,quantity:r}},currentURL:function(){var t="https://newman0934.github.io/wapd-frontend/#",e=this.$route.path;return t+e}}),watch:{initialProduct:function(t){this.product=be({},this.product,{},t)}},methods:{addFavorite:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(this.$store.dispatch("addFavorite",t));case 3:this.product=be({},this.product,{isFavorited:!0}),e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),null,this,[[0,6]])},deleteFavorite:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(this.$store.dispatch("deleteFavorite",t));case 3:this.product=be({},this.product,{isFavorited:!1}),e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),null,this,[[0,6]])},addToCartSubmit:function(){var t,e,r,s,a,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if(this.color&&this.size){o.next=3;break}return g.fire({icon:"warning",title:"請確認顏色、尺寸、數量皆需填寫！"}),o.abrupt("return");case 3:if(!(this.quantity<=0&&this.quantity>=10)){o.next=6;break}return g.fire({icon:"warning",title:"請確認確認數量喔！"}),o.abrupt("return");case 6:if(t=this.formData,o.prev=7,!this.isAuthenticated){o.next=21;break}return o.next=11,regeneratorRuntime.awrap(fe.postCart({formData:t}));case 11:if(e=o.sent,r=e.data,s=e.statusText,"OK"===s&&"success"===r.status){o.next=16;break}throw new Error(s);case 16:return o.next=18,regeneratorRuntime.awrap(this.$store.dispatch("fetchUserCart",this.currentUser.id));case 18:g.fire({icon:"success",title:"商品已加入購物車"}),o.next=29;break;case 21:return o.next=23,regeneratorRuntime.awrap(fe.notLoginPostCart({formData:t}));case 23:if(a=o.sent,n=a.data,i=a.statusText,"OK"===i&&"success"===n.status){o.next=28;break}throw new Error(i);case 28:g.fire({icon:"success",title:"商品已加入購物車，請登入查看購物車"});case 29:o.next=34;break;case 31:o.prev=31,o.t0=o["catch"](7),g.fire({icon:"error",title:"商品暫時無法加入購物車，請稍後再試"});case 34:case"end":return o.stop()}}),null,this,[[7,31]])},heartToggle:function(){pt()('[data-toggle="popover"]').popover()}}},we=_e,Ce=(r("2b18"),Object(P["a"])(we,ve,he,!1,null,"bc95eede",null)),ye=Ce.exports,Pe={components:{productBreadcrumb:ne,productCarousel:me,productDetail:ye,spinner:xt},data:function(){return{path:{categoryId:-1,categoryName:"",namd:""},product:{id:0,name:"",sellPrice:"",originPricd:"",description:"",sizeSet:[],colorSet:[],isFavorited:!1},productImgs:[]}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){var t=this.$route.params.id;this.fetchProduct(t)},beforeRouteUpdate:function(t,e,r){var s=t.params.id;this.fetchProduct(s),r()},methods:{fetchProduct:function(t){var e,r,s,a,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,this.$store.dispatch("updateLoading",!0),o.next=4,regeneratorRuntime.awrap(_t.getProduct({productId:t}));case 4:if(e=o.sent,r=e.data,s=e.statusText,"OK"===s){o.next=9;break}throw new Error(s);case 9:a=new Set(r.product.color),n=new Set(r.product.size),i=this.$store.state.wishList,this.path={categoryId:r.product.CategoryId,categoryName:r.product.category,name:r.product.name},this.$store.state.isAuthenticated&&i.length>0?this.product={id:r.product.id,name:r.product.name,sellPrice:r.product.sell_price,originPricd:r.product.origin_price,description:r.product.description,sizeSet:Object(Zt["a"])(n),colorSet:Object(Zt["a"])(a),isFavorited:i.map((function(t){return t.id})).includes(r.product.id)}:this.product={id:r.product.id,name:r.product.name,sellPrice:r.product.sell_price,originPricd:r.product.origin_price,description:r.product.description,sizeSet:Object(Zt["a"])(n),colorSet:Object(Zt["a"])(a)},this.productImgs=r.product.images,this.$store.dispatch("updateLoading",!1),o.next=22;break;case 18:o.prev=18,o.t0=o["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得商品資訊，請稍後再試"});case 22:case"end":return o.stop()}}),null,this,[[0,18]])}}},xe=Pe,Oe=Object(P["a"])(xe,Xt,Jt,!1,null,null,null),ke=Oe.exports,je=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("adminNav"),t.isLoading?r("div",[r("spinner")],1):r("div",{staticClass:"container mb-5"},[r("div",{staticClass:"text-left"},[r("h1",[t._v("分類列表")]),r("form",{staticClass:"my-4"},[r("div",{staticClass:"form-row"},[t._m(0),r("div",{staticClass:"col-auto"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newCategoryName,expression:"newCategoryName"}],staticClass:"form-control",attrs:{type:"text",required:"",placeholder:"請輸入類別"},domProps:{value:t.newCategoryName},on:{input:function(e){e.target.composing||(t.newCategoryName=e.target.value)}}})]),r("div",{staticClass:"col-auto"},[r("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.createCategory(e)}}},[t._v("確認新增")])])])])]),r("div",{staticClass:"table-responsive-md"},[r("table",{staticClass:"table table-striped"},[t._m(1),r("tbody",t._l(t.categories,(function(e){return r("tr",{key:e.id},[r("td",{staticClass:"position-relative"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEditing,expression:"!category.isEditing"}],staticClass:"category-name"},[t._v(t._s(e.category))]),r("input",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"category.isEditing"},{name:"model",rawName:"v-model",value:e.category,expression:"category.category"}],staticClass:"form-control",attrs:{type:"text",required:"required"},domProps:{value:e.category},on:{input:function(r){r.target.composing||t.$set(e,"category",r.target.value)}}}),r("span",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"category.isEditing"}],staticClass:"cancel",on:{click:function(r){return t.handleCancel(e.id)}}},[t._v("✕")])]),r("td",{attrs:{scope:"row"}},[e.isEditing?t._e():r("button",{staticClass:"btn btn-outline-dark",attrs:{disabled:t.isProcessing},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.toggleIsEditing(e.id)}}},[t._v("編輯")]),e.isEditing?r("button",{staticClass:"btn btn-dark",attrs:{disabled:t.isProcessing},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.editCategory({categoryId:e.id,category:e.category})}}},[t._v("儲存")]):t._e()]),r("td",{attrs:{scope:"row"}},[r("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.deleteCategory(e.id)}}},[t._v("刪除")])])])})),0)])])])],1)},Ae=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-auto"},[r("h3",[t._v("新增類別：")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"thead-dark"},[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("類別名稱")]),r("th",{attrs:{scope:"col"}},[t._v("編輯")]),r("th",{attrs:{scope:"col"}},[t._v("刪除")])])])}],$e=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container pt-5"},[r("ul",{staticClass:"nav nav-tabs mb-4"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"adminProducts"}}},[t._v("商品")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"adminCategories"}}},[t._v("類別")])],1)])])},Se=[],Ee={},Ie=Object(P["a"])(Ee,$e,Se,!1,null,null,null),De=Ie.exports,Re=(r("99af"),{categories:{get:function(){return f.get("/admins/categories")},create:function(t){var e=t.category;return f.post("/admins/categories",{category:e})},update:function(t){var e=t.categoryId,r=t.category;return f.put("/admins/categories/".concat(e),{category:r})},delete:function(t){var e=t.categoryId;return f.delete("/admins/categories/".concat(e))}},users:{get:function(t){var e=t.page,r=new URLSearchParams({page:e});return f.get("/admins/users?".concat(r))},getOrder:function(t){var e=t.id;return f.get("/admins/users/".concat(e,"/orders"))}},orders:{get:function(t){var e=t.page,r=new URLSearchParams({page:e});return f.get("/admins/orders?".concat(r))},getDetail:function(t){var e=t.orderId;return f.get("/admins/orders/".concat(e))},deleteOrderProduct:function(t){var e=t.id;return f.delete("/admins/orders/".concat(e,"/product"))},put:function(t){var e=t.id,r=t.formData;return f.put("/admins/orders/".concat(e),r)}},products:{get:function(t){var e=t.page,r=new URLSearchParams({page:e});return f.get("/admins/products?".concat(r.toString()))},post:function(t){for(var e=t.formData,r=t.images,s=0;s<r.length;s++)e.append("images",r[s]);return f.post("/admins/products",e)},put:function(t){var e=t.id,r=t.formData;return f.put("/admins/products/".concat(e),r)},getStatus:function(t){var e=t.id;return f.get("/admins/products/".concat(e,"/stocks"))},getStatusDatail:function(t){var e=t.id,r=t.stock_id;return f.get("/admins/products/".concat(e,"/stocks/").concat(r))},postStatus:function(t){var e=t.productId,r=t.color,s=t.size;return f.post("/admins/products/".concat(e,"/stocks"),{color:r,size:s})},putStatus:function(t){var e=t.id,r=t.stock_id,s=t.color,a=t.size,n=t.stock;return f.put("/admins/products/".concat(e,"/stocks/").concat(r),{color:s,size:a,stock:n})},deleteStatus:function(t){var e=t.id,r=t.stock_id;return f.delete("/admins/products/".concat(e,"/stocks/").concat(r))},deleteImage:function(t){return f.delete("/admins/image/".concat(t))},getProductDetail:function(t){var e=t.id;return f.get("/admins/products/".concat(e))}},coupons:{get:function(){return f.get("/admins/coupons")},post:function(t){var e=t.couponCode,r=t.discountAmount;return f.post("/admins/coupons",{couponCode:e,discountAmount:r})},delete:function(t){var e=t.id;return f.delete("/admins/coupons/".concat(e))}}});function Ne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Le(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ue={components:{adminNav:De,spinner:xt},data:function(){return{categories:[],newCategoryName:""}},created:function(){this.fetchCategories()},computed:{isProcessing:function(){return this.$store.state.isProcessing},isLoading:function(){return this.$store.state.isLoading}},methods:{fetchCategories:function(){var t,e,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,this.$store.dispatch("updateLoading",!0),s.next=4,regeneratorRuntime.awrap(Re.categories.get());case 4:if(t=s.sent,e=t.data,r=t.statusText,"OK"===r){s.next=9;break}throw new Error(r);case 9:this.categories=e.categories.map((function(t){return Le({},t,{isEditing:!1})})),this.$store.dispatch("updateLoading",!1),s.next=17;break;case 13:s.prev=13,s.t0=s["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得類別"});case 17:case"end":return s.stop()}}),null,this,[[0,13]])},createCategory:function(){var t,e,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,this.newCategoryName){s.next=4;break}return g.fire({icon:"warning",title:"請輸入類別"}),s.abrupt("return");case 4:return this.$store.dispatch("updateProcessing",!0),s.next=7,regeneratorRuntime.awrap(Re.categories.create({category:this.newCategoryName}));case 7:if(t=s.sent,e=t.data,r=t.statusText,"OK"===r&&"success"===e.status){s.next=12;break}throw new Error(r);case 12:this.categories.push(Le({},e.category,{isEditing:!1})),this.newCategoryName="",this.fetchCategories(),this.$store.dispatch("updateProcessing",!1),s.next=22;break;case 18:s.prev=18,s.t0=s["catch"](0),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"無法新增類別"});case 22:case"end":return s.stop()}}),null,this,[[0,18]])},editCategory:function(t){var e,r,s,a,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.categoryId,r=t.category,i.prev=1,this.$store.dispatch("updateProcessing",!0),i.next=5,regeneratorRuntime.awrap(Re.categories.update({categoryId:e,category:r}));case 5:if(s=i.sent,a=s.data,n=s.statusText,"OK"===n||"success"===a.status){i.next=10;break}throw new Error(n);case 10:this.toggleIsEditing(e),this.$store.dispatch("updateProcessing",!1),i.next=18;break;case 14:i.prev=14,i.t0=i["catch"](1),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"無法修改類別"});case 18:case"end":return i.stop()}}),null,this,[[1,14]])},deleteCategory:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,this.$store.dispatch("updateProcessing",!0),a.next=4,regeneratorRuntime.awrap(Re.categories.delete({categoryId:t}));case 4:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s||"success"===r.status){a.next=9;break}throw new Error(s);case 9:this.categories=this.categories.filter((function(e){return e.id!==t})),this.$store.dispatch("updateProcessing",!1),a.next=17;break;case 13:a.prev=13,a.t0=a["catch"](0),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"無法刪除類別"});case 17:case"end":return a.stop()}}),null,this,[[0,13]])},toggleIsEditing:function(t){this.$store.dispatch("updateProcessing",!0),this.categories=this.categories.map((function(e){return e.id!==t?e:Le({},e,{nameCached:e.category,isEditing:!e.isEditing})})),this.$store.dispatch("updateProcessing",!1)},handleCancel:function(t){this.categories=this.categories.map((function(e){return e.id!==t?e:Le({},e,{category:e.nameCached})})),this.toggleIsEditing(t)}}},Te=Ue,qe=Object(P["a"])(Te,je,Ae,!1,null,null,null),ze=qe.exports,Fe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("admin-nav"),t.isLoading?r("div",[r("spinner")],1):r("div",[r("div",{staticClass:"table-responsive-md container"},[r("h3",{staticClass:"text-left"},[t._v("商品資訊")]),r("table",{staticClass:"table"},[r("tbody",[r("tr",[r("td",[t._v("名稱")]),r("td",{attrs:{colspan:"2"}},[t._v(t._s(t.product.name))]),r("td",[t._v("分類")]),r("td",{attrs:{colspan:"2"}},[t._v(t._s(t.product.category))])]),r("tr",[r("td",[t._v("原價")]),r("td",[t._v(t._s(t.product.originPrice))]),r("td",[t._v("販售價")]),r("td",[t._v(t._s(t.product.sellPrice))]),r("td",[t._v("狀態")]),r("td",[t._v(t._s(t.product.status))])]),r("tr",[r("td",[t._v("產品描述")]),r("td",{attrs:{colspan:"5"}},[t._v(t._s(t.product.description))])])])])]),r("div",{staticClass:"container adminProductImg"},[r("div",{staticClass:"row"},t._l(t.images,(function(t){return r("div",{key:t.id,staticClass:"col-md-3 mb-3"},[r("img",{attrs:{src:t.url,alt:""}})])})),0)]),r("div",{staticClass:"container my-5"},[r("div",{staticClass:"row justify-content-center"},[r("button",{staticClass:"btn btn-outline-success mx-3",on:{click:t.goToBack}},[t._v("回上一頁")]),r("router-link",{staticClass:"btn btn-outline-dark mx-3",attrs:{to:{name:"adminProductEdit",params:{id:t.product.id}}}},[t._v("編輯商品")])],1)])])],1)},Me=[],Ke={components:{adminNav:De,spinner:xt},data:function(){return{product:{id:"",name:"",category:"",cost:0,originPrice:0,sellPrice:0,status:0,description:""},images:[]}},created:function(){var t=this.$route.params.id;this.fetchAdminProduct(t)},beforeRouteUpdate:function(t,e,r){var s=t.params.id;this.fetchAdminProduct(s),r()},computed:{isLoading:function(){return this.$store.state.isLoading}},methods:{fetchAdminProduct:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,this.$store.dispatch("updateLoading",!0),a.next=4,regeneratorRuntime.awrap(Re.products.getProductDetail({id:t}));case 4:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s){a.next=9;break}throw new Error(s);case 9:this.product={id:r.product.id,name:r.product.name,category:r.product.category,cost:r.product.cost,originPrice:r.product.origin_price,sellPrice:r.product.sell_price,status:r.product.status,description:r.product.description},this.images=r.product.images,this.$store.dispatch("updateLoading",!1),a.next=18;break;case 14:a.prev=14,a.t0=a["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得商品詳細資料"});case 18:case"end":return a.stop()}}),null,this,[[0,14]])},goToBack:function(){this.$router.go(-1)}}},Be=Ke,Ve=(r("d6fd"),Object(P["a"])(Be,Fe,Me,!1,null,"45a99268",null)),We=Ve.exports,He=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("adminNav"),t.isLoading?r("div",[r("spinner")],1):r("div",{staticClass:"container mb-5"},[r("div",{staticClass:"text-left"},[r("h1",[t._v("商品列表")]),r("h1",[r("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:{name:"adminProductCreate"}}},[t._v("新增商品")])],1)]),r("div",{staticClass:"table-responsive-md"},[r("table",{staticClass:"table table-striped"},[t._m(0),r("tbody",t._l(t.products,(function(e){return r("tr",{key:e.id},[r("td",{attrs:{scope:"col"}},[r("router-link",{attrs:{to:{name:"adminProduct",params:{id:e.id}}}},[t._v(t._s(e.name))])],1),r("td",{attrs:{scope:"col"}},[t._v(t._s(e.category))]),r("td",{attrs:{scope:"col"}},[t._v(t._s(e.sell_price))]),r("td",{attrs:{scope:"col"}},[t._v(t._s(e.status))]),r("td",{attrs:{scope:"col"}},[r("router-link",{staticClass:"btn btn-outline-info",attrs:{to:{name:"adminProductStatus",params:{id:e.id}}}},[t._v("查詢")])],1),r("td",{attrs:{scope:"col"}},[r("router-link",{staticClass:"btn btn-outline-dark",attrs:{to:{name:"adminProductEdit",params:{id:e.id}}}},[t._v("編輯")])],1)])})),0)])]),t.totalPage>1?r("nav",{attrs:{"aria-label":"Page navigation"}},[r("ul",{staticClass:"pagination"},[r("li",{directives:[{name:"show",rawName:"v-show",value:t.previousPage,expression:"previousPage"}],staticClass:"page-item"},[r("router-link",{staticClass:"page-link",attrs:{"aria-label":"Previous",to:{name:"adminProducts",query:{page:t.previousPage}}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])],1),t._l(t.totalPage,(function(e){return r("li",{key:e,class:["page-item",{active:t.currentPage===e}]},[r("router-link",{staticClass:"page-link",attrs:{to:{name:"adminProducts",query:{page:e}}}},[t._v(t._s(e))])],1)})),r("li",{directives:[{name:"show",rawName:"v-show",value:t.nextPage,expression:"nextPage"}],staticClass:"page-item"},[r("router-link",{staticClass:"page-link",attrs:{to:{name:"adminProducts",query:{page:t.nextPage}},"aria-label":"Next"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])],1)],2)]):t._e()])],1)},Qe=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"thead-dark"},[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("商品名稱")]),r("th",{attrs:{scope:"col"}},[t._v("商品分類")]),r("th",{attrs:{scope:"col"}},[t._v("價格")]),r("th",{attrs:{scope:"col"}},[t._v("狀態")]),r("th",{attrs:{scope:"cole"}},[t._v("庫存查詢")]),r("th",{attrs:{scope:"col"}},[t._v("商品編輯")])])])}];function Ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Ye(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Xe={components:{adminNav:De,spinner:xt},data:function(){return{products:[],currentPage:0,totalPage:0}},computed:Ye({},Object(u["b"])(["currentUser"]),{previousPage:function(){return 1===this.currentPage?null:this.currentPage-1},nextPage:function(){return this.currentPage+1>this.totalPage?null:this.currentPage+1},isLoading:function(){return this.$store.state.isLoading}}),created:function(){var t=this.$route.query.page;this.fetchAdminProducts({page:t})},beforeRouteUpdate:function(t,e,r){var s=t.query.page;this.fetchAdminProducts({page:s}),r()},methods:{fetchAdminProducts:function(t){var e,r,s,a,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.page,r=void 0===e?1:e,i.prev=1,this.$store.dispatch("updateLoading",!0),i.next=5,regeneratorRuntime.awrap(Re.products.get({page:r}));case 5:if(s=i.sent,a=s.data,n=s.statusText,"OK"===n){i.next=10;break}throw new Error(n);case 10:this.products=a.products,this.currentPage=a.page,this.totalPage=a.totalPage.length,this.$store.dispatch("updateLoading",!1),i.next=20;break;case 16:i.prev=16,i.t0=i["catch"](1),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得商品資料"});case 20:case"end":return i.stop()}}),null,this,[[1,16]])}}},Je=Xe,Ze=Object(P["a"])(Je,He,Qe,!1,null,null,null),tr=Ze.exports,er=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("admin-nav"),t.isLoading?r("div",[r("spinner")],1):r("form",{staticClass:"container mb-5",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(t.$route.params.id)}}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"name"}},[t._v("名稱")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name",placeholder:"商品名稱",required:"required"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),r("div",{staticClass:"form-group col-md-4"},[r("label",{attrs:{for:"categoryId"}},[t._v("分類")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.product.categoryId,expression:"product.categoryId"}],staticClass:"form-control",attrs:{name:"categoryId",id:"categoryId"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"categoryId",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[t._v("請選擇")]),t._l(t.categories,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.category))])}))],2)]),r("div",{staticClass:"form-group col-md-2"},[r("label",{attrs:{for:"status"}},[t._v("目前狀態")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.product.status,expression:"product.status"}],staticClass:"form-control",attrs:{name:"status",id:"status"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"status",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"on"}},[t._v("上架")]),r("option",{attrs:{value:"off"}},[t._v("下架")])])])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"originPrice"}},[t._v("原價")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.originPrice,expression:"product.originPrice"}],staticClass:"form-control",attrs:{type:"text",name:"originPrice",id:"originPrice",placeholder:"商品原價",required:"required"},domProps:{value:t.product.originPrice},on:{input:function(e){e.target.composing||t.$set(t.product,"originPrice",e.target.value)}}})]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"originPrice"}},[t._v("售價")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.sellPrice,expression:"product.sellPrice"}],staticClass:"form-control",attrs:{type:"text",name:"sellPrice",id:"sellPrice",placeholder:"商品售價",required:"required"},domProps:{value:t.product.sellPrice},on:{input:function(e){e.target.composing||t.$set(t.product,"sellPrice",e.target.value)}}})]),r("div",{staticClass:"form-group col-md-12"},[r("label",{attrs:{for:"description"}},[t._v("產品描述")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{name:"description",id:"description",cols:"120",rows:"3",placeholder:"請輸入商品的簡介"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),t._m(0)]),r("div",{staticClass:"container adminProductImg"},[r("div",{staticClass:"row"},t._l(t.images,(function(e){return r("div",{key:e.id,staticClass:"prodcutImg col-md-3 mb-3"},[r("img",{attrs:{src:e.url,alt:""}}),r("div",{staticClass:"mask",attrs:{"data-imageId":e.id},on:{click:t.deleteImage}},[t._v("X")])])})),0)]),r("a",{staticClass:"btn btn-primary mx-3",attrs:{href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("回上一頁")]),r("button",{staticClass:"btn btn-outline-dark mx-3",attrs:{type:"submit",disabled:t.isProcessing}},[t._v("確認修改")])])],1)},rr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-group col-md-12"},[r("label",{attrs:{for:"images"}},[t._v("商品圖片")]),r("input",{staticClass:"form-control",attrs:{type:"file",name:"images",id:"images",multiple:"multiple"}})])}],sr=(r("c975"),r("a434"),{components:{adminNav:De,spinner:xt},data:function(){return{product:{name:"",categoryId:"",originPrice:0,sellPrice:0,status:"",description:""},images:[],categories:[]}},created:function(){var t=this.$route.params.id;this.fetchAdminProduct(t),this.fetchAdminCategories()},computed:{isProcessing:function(){return this.$store.state.isProcessing},isLoading:function(){return this.$store.state.isLoading}},beforeRouteUpdate:function(t,e,r){var s=t.params.id;this.fetchAdminProduct(s),r()},methods:{fetchAdminProduct:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,this.$store.dispatch("updateLoading",!0),a.next=4,regeneratorRuntime.awrap(Re.products.getProductDetail({id:t}));case 4:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s||"success"===r.status){a.next=9;break}throw new Error(status);case 9:this.product={name:r.product.name,categoryId:r.product.CategoryId,originPrice:r.product.origin_price,sellPrice:r.product.sell_price,status:r.product.status,description:r.product.description},this.images=r.product.images,this.$store.dispatch("updateLoading",!1),a.next=18;break;case 14:a.prev=14,a.t0=a["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得商品資訊"});case 18:case"end":return a.stop()}}),null,this,[[0,14]])},fetchAdminCategories:function(){var t,e,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,this.$store.dispatch("updateLoading",!0),s.next=4,regeneratorRuntime.awrap(Re.categories.get());case 4:if(t=s.sent,e=t.data,r=t.statusText,"OK"===r){s.next=9;break}throw new Error(r);case 9:this.categories=e.categories,this.$store.dispatch("updateLoading",!1),s.next=17;break;case 13:s.prev=13,s.t0=s["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得類別資料"});case 17:case"end":return s.stop()}}),null,this,[[0,13]])},handleSubmit:function(t){var e,r,s,a,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if(o.prev=0,this.product.name&&this.product.sellPrice&&this.product.originPrice&&this.product.description){o.next=4;break}return g.fire({icon:"warning",title:"請確認輸入的內容"}),o.abrupt("return");case 4:return this.$store.dispatch("updateProcessing",!0),e=window.event,r=e.target,s=new FormData(r),o.next=10,regeneratorRuntime.awrap(Re.products.put({id:t,formData:s}));case 10:if(a=o.sent,n=a.data,i=a.statusText,"OK"===i&&"success"===n.status){o.next=15;break}throw new Error(i);case 15:this.$store.dispatch("updateProcessing",!1),this.$router.push({name:"adminProducts"}),o.next=23;break;case 19:o.prev=19,o.t0=o["catch"](0),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"修改商品資料失敗"});case 23:case"end":return o.stop()}}),null,this,[[0,19]])},deleteImage:function(t){var e,r,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e=t.target.dataset.imageid,n.next=4,regeneratorRuntime.awrap(Re.products.deleteImage(e));case 4:if(r=n.sent,s=r.data,a=r.statusText,"OK"===a&&"success"===s.status){n.next=9;break}throw new Error(a);case 9:this.images.splice(this.images.indexOf(e),1),g.fire({icon:"success",title:"成功刪除圖片!!"}),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](0),g.fire({icon:"error",title:"刪除圖片失敗"});case 16:case"end":return n.stop()}}),null,this,[[0,13]])}}}),ar=sr,nr=(r("5b23"),Object(P["a"])(ar,er,rr,!1,null,"2d530172",null)),ir=nr.exports,or=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("admin-nav"),r("form",{staticClass:"container mb-5",attrs:{id:"form"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.addToProductSubmit(e)}}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"name"}},[t._v("名稱")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name",placeholder:"商品名稱",required:"required"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"categoryId"}},[t._v("分類")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.product.categoryId,expression:"product.categoryId"}],staticClass:"form-control",attrs:{name:"categoryId",id:"categoryId"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"categoryId",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[t._v("請選擇")]),t._l(t.categories,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.category))])}))],2)])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"originPrice"}},[t._v("原價")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.originPrice,expression:"product.originPrice"}],staticClass:"form-control",attrs:{type:"text",name:"originPrice",id:"originPrice",placeholder:"商品原價",required:"required"},domProps:{value:t.product.originPrice},on:{input:function(e){e.target.composing||t.$set(t.product,"originPrice",e.target.value)}}})]),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"sellPrice"}},[t._v("售價")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.sellPrice,expression:"product.sellPrice"}],staticClass:"form-control",attrs:{type:"text",name:"sellPrice",id:"sellPrice",placeholder:"商品售價",required:"required"},domProps:{value:t.product.sellPrice},on:{input:function(e){e.target.composing||t.$set(t.product,"sellPrice",e.target.value)}}})]),r("div",{staticClass:"form-group col-md-12"},[r("label",{attrs:{for:"description"}},[t._v("產品描述")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{name:"description",id:"description",cols:"120",rows:"3",placeholder:"請輸入商品的簡介"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),t._m(0)]),r("a",{staticClass:"btn btn-outline-success mx-3",attrs:{href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("回上一頁")]),r("button",{staticClass:"btn btn-outline-primary mx-3",attrs:{type:"submit",disabled:t.isProcessing}},[t._v("新增商品")])])],1)},cr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-group col-md-12"},[r("div",{staticClass:"DashboardContainer",attrs:{name:"image"}})])}],ur=(r("bf8f"),r("b880")),dr=r.n(ur),lr=r("ef92"),pr=r.n(lr),mr={components:{adminNav:De},data:function(){return{uppy:null,product:{id:-1,name:"",categoryId:"",originPrice:"",sellPrice:"",description:""},images:[],categories:[]}},mounted:function(){this.initUppy()},created:function(){this.fetchAdminCategories()},computed:{isProcessing:function(){return this.$store.state.isProcessing}},methods:{openUppyDashboard:function(){this.uppy.getPlugin("Dashboard").openModal()},initUppy:function(){var t=this;this.uppy=dr()({autoProceed:!1,debug:!0,restrictions:{maxFileSize:52428800,maxNumberOfFiles:10,minNumberOfFiles:1,allowedFileTypes:["image/*"]},meta:{modelId:this.modelId,collection:this.collection},onBeforeFileAdded:function(){Promise.resolve()},onBeforeUpload:function(e){t.files=e,Promise.resolve()}}).use(pr.a,{trigger:".UppyModalOpenerBtn",inline:!0,target:".DashboardContainer",replaceTargetContent:!0,showProgressDetails:!0,note:"Images and video only, 1–10 files",height:470,metaFields:[{id:"name",name:"Name",placeholder:"file name"},{id:"caption",name:"Caption",placeholder:"describe what the image is about"}],browserBackButtonClose:!0}),this.uppy.on("complete",(function(e){t.files=e.successful}))},addToProductSubmit:function(t){var e,r,s,a,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:if(i.prev=0,this.product.name&&this.product.sellPrice&&this.product.originPrice&&this.product.description){i.next=4;break}return g.fire({icon:"warning",title:"請確認輸入的內容"}),i.abrupt("return");case 4:return this.$store.dispatch("updateProcessing",!0),this.images=this.uppy.getFiles().map((function(t){return t.data})),e=t.target,r=new FormData(e),i.next=10,regeneratorRuntime.awrap(Re.products.post({formData:r,images:this.images}));case 10:if(s=i.sent,a=s.data,n=s.statusText,"OK"===n&&"success"===a.status){i.next=15;break}throw new Error(n);case 15:this.$store.dispatch("updateProcessing",!1),this.$router.push({name:"adminProducts"}),i.next=23;break;case 19:i.prev=19,i.t0=i["catch"](0),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"建立商品失敗"});case 23:case"end":return i.stop()}}),null,this,[[0,19]])},fetchAdminCategories:function(){var t,e,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,regeneratorRuntime.awrap(Re.categories.get());case 3:if(t=s.sent,e=t.data,r=t.statusText,"OK"===r){s.next=8;break}throw new Error(r);case 8:this.categories=e.categories,s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](0),g.fire({icon:"error",title:"無法取得類別列表"});case 14:case"end":return s.stop()}}),null,this,[[0,11]])}},beforeDestroy:function(){this.uppy.close()}},vr=mr,hr=Object(P["a"])(vr,or,cr,!1,null,null,null),fr=hr.exports,gr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("adminNav"),t.isLoading?r("div",[r("spinner")],1):r("div",{staticClass:"container"},[r("h3",{staticClass:"text-left my-5"},[t._v("商品ID："+t._s(t.$route.params.id))]),r("div",{staticClass:"text-left"},[r("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:{name:"adminProductStatusCreate"}}},[t._v("新增種類")])],1),r("div",{staticClass:"table-responsive-md mb-5"},[r("table",{staticClass:"table table-striped"},[t._m(0),r("tbody",t._l(t.productStatus,(function(e){return r("tr",{key:e.id},[r("td",{attrs:{scope:"col"}},[t._v(t._s(e.color))]),r("td",{attrs:{scope:"col"}},[t._v(t._s(e.size))]),r("td",{attrs:{scope:"col"}},[t._v(t._s(e.stock))]),r("td",{attrs:{scope:"col"}},[r("router-link",{staticClass:"btn btn-outline-dark",attrs:{to:{name:"adminProductStatusEdit",params:{id:e.ProductId,stock_id:e.id}}}},[t._v("編輯")])],1),r("td",{attrs:{scope:"col"}},[r("button",{staticClass:"btn btn-outline-danger",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.deleteProductStatus(e.ProductId,e.id)}}},[t._v("刪除")])])])})),0)]),r("div",{staticClass:"container"},[r("button",{staticClass:"btn btn-outline-success mx-3 my-5",on:{click:t.goToBack}},[t._v("回上一頁")])])])])],1)},br=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"thead-dark"},[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("顏色")]),r("th",{attrs:{scope:"col"}},[t._v("尺寸")]),r("th",{attrs:{scope:"col"}},[t._v("存貨")]),r("th",{attrs:{scope:"col"}},[t._v("編輯")]),r("th",{attrs:{scope:"col"}},[t._v("刪除")])])])}],_r={components:{adminNav:De,spinner:xt},data:function(){return{productStatus:[]}},created:function(){var t=this.$route.params.id;this.fetchProductStatus(t)},beforeRouteUpdate:function(t,e,r){var s=t.params.id;this.fetchProductStatus(s),r()},computed:{isLoading:function(){return this.$store.state.isLoading}},methods:{fetchProductStatus:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,this.$store.dispatch("updateLoading",!0),a.next=4,regeneratorRuntime.awrap(Re.products.getStatus({id:t}));case 4:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s){a.next=9;break}throw new Error(s);case 9:this.productStatus=r.productStatus,this.$store.dispatch("updateLoading",!1),a.next=17;break;case 13:a.prev=13,a.t0=a["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得商品狀態"});case 17:case"end":return a.stop()}}),null,this,[[0,13]])},goToBack:function(){this.$router.go(-1)},deleteProductStatus:function(t,e){var r,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,regeneratorRuntime.awrap(Re.products.deleteStatus({id:t,stock_id:e}));case 3:if(r=n.sent,s=r.data,a=r.statusText,"OK"===a||"success"===s.status){n.next=8;break}throw new Error(a);case 8:this.productStatus=this.productStatus.filter((function(t){return t.id!==e})),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),g.fire({icon:"error",title:"刪除商品資訊失敗"});case 14:case"end":return n.stop()}}),null,this,[[0,11]])}}},wr=_r,Cr=Object(P["a"])(wr,gr,br,!1,null,null,null),yr=Cr.exports,Pr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("adminNav"),r("div",{staticClass:"container"},[r("div",{staticClass:"col-sm-6 mx-auto"},[r("h3",[t._v("商品ID："+t._s(t.$route.params.id))]),r("form",{staticClass:"mb-5"},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"productSize"}},[t._v("尺寸")]),r("div",{staticClass:"col-sm-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newSize,expression:"newSize"}],staticClass:"form-control",attrs:{type:"text",id:"productSize",name:"productSize",placeholder:"商品尺寸"},domProps:{value:t.newSize},on:{input:function(e){e.target.composing||(t.newSize=e.target.value)}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"productColor"}},[t._v("顏色")]),r("div",{staticClass:"col-sm-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newColor,expression:"newColor"}],staticClass:"form-control",attrs:{type:"text",id:"productColor",name:"productColor",placeholder:"商品顏色"},domProps:{value:t.newColor},on:{input:function(e){e.target.composing||(t.newColor=e.target.value)}}})])]),r("a",{staticClass:"btn btn-outline-success mx-3",attrs:{href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("回上一頁")]),r("button",{staticClass:"btn btn-outline-primary mx-3",attrs:{type:"submit",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addProductStatus(t.$route.params.id)}}},[t._v("確認新增")])])])])],1)},xr=[],Or={components:{adminNav:De},data:function(){return{productStatus:[],newColor:"",newSize:""}},computed:{isProcessing:function(){return this.$store.state.isProcessing}},methods:{addProductStatus:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,this.newColor&&this.newSize){a.next=4;break}return g.fire({icon:"error",title:"請輸入顏色、尺寸"}),a.abrupt("return");case 4:return this.$store.dispatch("updateProcessing",!0),a.next=7,regeneratorRuntime.awrap(Re.products.postStatus({productId:t,color:this.newColor,size:this.newSize}));case 7:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s||"success"===r.status){a.next=12;break}throw new Error(s);case 12:this.$store.dispatch("updateProcessing",!1),this.$router.push({name:"adminProductStatus",params:{id:t}}),a.next=20;break;case 16:a.prev=16,a.t0=a["catch"](0),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"新增商品顏色與尺寸失敗"});case 20:case"end":return a.stop()}}),null,this,[[0,16]])}}},kr=Or,jr=Object(P["a"])(kr,Pr,xr,!1,null,null,null),Ar=jr.exports,$r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("adminNav"),t.isLoading?r("div",[r("spinner")],1):r("div",{staticClass:"container"},[r("div",{staticClass:"col-sm-6 mx-auto"},[r("h3",[t._v("商品ID："+t._s(t.productStatus.ProductId))]),r("form",{staticClass:"mb-5"},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"productSize"}},[t._v("尺寸")]),r("div",{staticClass:"col-sm-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.productStatus.size,expression:"productStatus.size"}],staticClass:"form-control",attrs:{type:"text",id:"productSize",name:"productSize",placeholder:"商品尺寸",required:"required"},domProps:{value:t.productStatus.size},on:{input:function(e){e.target.composing||t.$set(t.productStatus,"size",e.target.value)}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"productColor"}},[t._v("顏色")]),r("div",{staticClass:"col-sm-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.productStatus.color,expression:"productStatus.color"}],staticClass:"form-control",attrs:{type:"text",id:"productColor",name:"productColor",placeholder:"商品顏色",required:"required"},domProps:{value:t.productStatus.color},on:{input:function(e){e.target.composing||t.$set(t.productStatus,"color",e.target.value)}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"productStock"}},[t._v("庫存")]),r("div",{staticClass:"col-sm-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.productStatus.stock,expression:"productStatus.stock"}],staticClass:"form-control",attrs:{type:"text",id:"productStock",name:"productStock",placeholder:"商品庫存",required:"required"},domProps:{value:t.productStatus.stock},on:{input:function(e){e.target.composing||t.$set(t.productStatus,"stock",e.target.value)}}})])]),r("a",{staticClass:"btn btn-outline-success mx-3",attrs:{href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("回上一頁")]),r("button",{staticClass:"btn btn-outline-dark mx-3",attrs:{type:"submit",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.putAdminProductStatus(t.$route.params.id,t.$route.params.stock_id)}}},[t._v("確認修改")])])])])],1)},Sr=[],Er={components:{adminNav:De,spinner:xt},data:function(){return{productStatus:{ProductId:"",color:"",id:"",size:"",stock:0}}},created:function(){var t=this.$route.params,e=t.id,r=t.stock_id;this.fetchAdminProductStatus(e,r)},computed:{isProcessing:function(){return this.$store.state.isProcessing},isLoading:function(){return this.$store.state.isLoading}},beforeRouteUpdate:function(t,e,r){var s=t.params,a=s.id,n=s.stock_id;this.addProductStatus(a,n),r()},methods:{fetchAdminProductStatus:function(t,e){var r,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,this.$store.dispatch("updateLoading",!0),n.next=4,regeneratorRuntime.awrap(Re.products.getStatusDatail({id:t,stock_id:e}));case 4:if(r=n.sent,s=r.data,a=r.statusText,"OK"===a){n.next=9;break}throw new Error(a);case 9:this.productStatus={ProductId:s.productStatus.ProductId,color:s.productStatus.color,id:s.productStatus.id,size:s.productStatus.size,stock:s.productStatus.stock},this.$store.dispatch("updateLoading",!1),n.next=17;break;case 13:n.prev=13,n.t0=n["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"取得商品尺寸、顏色、庫存失敗"});case 17:case"end":return n.stop()}}),null,this,[[0,13]])},putAdminProductStatus:function(t,e){var r,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,this.productStatus.color&&this.productStatus.size&&this.productStatus.stock){n.next=4;break}return g.fire({icon:"error",title:"請輸入顏色、尺寸與庫存"}),n.abrupt("return");case 4:return this.$store.dispatch("updateProcessing",!0),n.next=7,regeneratorRuntime.awrap(Re.products.putStatus({id:t,stock_id:e,color:this.productStatus.color,size:this.productStatus.size,stock:this.productStatus.stock}));case 7:if(r=n.sent,s=r.data,a=r.statusText,"OK"===a||"success"===s.status){n.next=12;break}throw new Error(a);case 12:this.$store.dispatch("updateProcessing",!1),this.$router.push({name:"adminProductStatus",params:{id:t}}),n.next=20;break;case 16:n.prev=16,n.t0=n["catch"](0),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"編輯商品尺寸、顏色、庫存失敗"});case 20:case"end":return n.stop()}}),null,this,[[0,16]])}}},Ir=Er,Dr=Object(P["a"])(Ir,$r,Sr,!1,null,null,null),Rr=Dr.exports,Nr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("adminNav"),t.isLoading?r("div",[r("spinner")],1):r("div",{staticClass:"container mb-5"},[t._m(0),r("div",{staticClass:"table-responsive-md"},[r("table",{staticClass:"table table-striped"},[t._m(1),r("tbody",t._l(t.users,(function(e){return r("tr",{key:e.id},[r("td",{attrs:{scope:"row"}},[t._v(t._s(e.name))]),r("td",{attrs:{scope:"row"}},[t._v(t._s(e.phone))]),r("td",{attrs:{scope:"row"}},[t._v(t._s(e.email))]),r("td",{attrs:{scope:"row"}},[t._v(t._s(e.address))]),r("td",{attrs:{scope:"row"}},[t._v(t._s(e.role))]),r("td",{attrs:{scope:"row"}},[r("router-link",{staticClass:"btn btn-outline-info",attrs:{to:{name:"adminUserOrders",params:{id:e.id}}}},[t._v("歷史訂單")])],1)])})),0)])]),t.totalPage>1?r("nav",{attrs:{"aria-label":"Page navigation"}},[r("ul",{staticClass:"pagination"},[r("li",{directives:[{name:"show",rawName:"v-show",value:t.previousPage,expression:"previousPage"}],staticClass:"page-item"},[r("router-link",{staticClass:"page-link",attrs:{"aria-label":"Previous",to:{name:"adminUsers",query:{page:t.previousPage}}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])],1),t._l(t.totalPage,(function(e){return r("li",{key:e,class:["page-item",{active:t.currentPage===e}]},[r("router-link",{staticClass:"page-link",attrs:{to:{name:"adminUsers",query:{page:e}}}},[t._v(t._s(e))])],1)})),r("li",{directives:[{name:"show",rawName:"v-show",value:t.nextPage,expression:"nextPage"}],staticClass:"page-item"},[r("router-link",{staticClass:"page-link",attrs:{to:{name:"adminUsers",query:{page:t.nextPage}},"aria-label":"Next"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])],1)],2)]):t._e()])],1)},Lr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-left"},[r("h1",[t._v("會員列表")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"thead-dark"},[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("名稱")]),r("th",{attrs:{scope:"col"}},[t._v("電話")]),r("th",{attrs:{scope:"col"}},[t._v("Email")]),r("th",{attrs:{scope:"col"}},[t._v("住址")]),r("th",{attrs:{scope:"col"}},[t._v("身分")]),r("th",{attrs:{scope:"col"}},[t._v("訂單")])])])}],Ur={components:{adminNav:De,spinner:xt},data:function(){return{users:[],currentPage:0,totalPage:0}},created:function(){var t=this.$route.query.page;this.fetchUsers({page:t})},beforeRouteUpdate:function(t,e,r){var s=t.query.page;this.fetchUsers({page:s}),r()},computed:{previousPage:function(){return 1===this.currentPage?null:this.currentPage-1},nextPage:function(){return this.currentPage+1>this.totalPage?null:this.currentPage+1},isLoading:function(){return this.$store.state.isLoading}},methods:{fetchUsers:function(t){var e,r,s,a,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.page,r=void 0===e?1:e,i.prev=1,this.$store.dispatch("updateLoading",!0),i.next=5,regeneratorRuntime.awrap(Re.users.get({page:r}));case 5:if(s=i.sent,a=s.data,n=s.statusText,console.log(a),"OK"===n){i.next=11;break}throw new Error(n);case 11:this.users=a.users.rows,this.currentPage=a.page,this.totalPage=a.totalPage.length,this.$store.dispatch("updateLoading",!1),i.next=21;break;case 17:i.prev=17,i.t0=i["catch"](1),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得會員資料"});case 21:case"end":return i.stop()}}),null,this,[[1,17]])}}},Tr=Ur,qr=Object(P["a"])(Tr,Nr,Lr,!1,null,null,null),zr=qr.exports,Fr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("admin-nav"),t.isLoading?r("div",[r("spinner")],1):r("div",[r("h3",[t._v(t._s(t.user.name)+"的訂單")]),r("div",{staticClass:"table-responsive-md"},[r("table",{staticClass:"table table-striped container mb-3"},[t._m(0),r("tbody",t._l(t.orders,(function(e){return r("tr",{key:e.id},[r("td",[t._v(t._s(e.sn))]),r("td",[t._v(t._s(e.total_price))]),r("td",[t._v(t._s(e.payment_status))]),r("td",[t._v("尚未出貨")])])})),0)])]),r("div",{staticClass:"mb-5"},[r("button",{staticClass:"btn btn-outline-success",on:{click:function(e){return t.goToBack()}}},[t._v("回上一頁")])])])],1)},Mr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"thead-dark"},[r("tr",[r("th",[t._v("訂單編號")]),r("th",[t._v("總計")]),r("th",[t._v("付款狀態")]),r("th",[t._v("運送狀態")])])])}],Kr={components:{adminNav:De,spinner:xt},data:function(){return{user:{name:""},orders:[]}},created:function(){var t=this.$route.params.id;this.fetchUserOrders(t)},beforeRouteUpdate:function(t,e,r){var s=t.params.id;this.fetchUserOrders(s),r()},computed:{isLoading:function(){return this.$store.state.isLoading}},methods:{fetchUserOrders:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,this.$store.dispatch("updateLoading",!0),a.next=4,regeneratorRuntime.awrap(Re.users.getOrder({id:t}));case 4:if(e=a.sent,r=e.data,s=e.statusText,console.log(r),"OK"===s){a.next=10;break}throw new Error(s);case 10:this.user={name:r.users.name},this.orders=r.users.orders,this.$store.dispatch("updateLoading",!1),a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得會員訂單"});case 19:case"end":return a.stop()}}),null,this,[[0,15]])},goToBack:function(){this.$router.go(-1)}}},Br=Kr,Vr=Object(P["a"])(Br,Fr,Mr,!1,null,null,null),Wr=Vr.exports,Hr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("adminNav"),t.isLoading?r("div",[r("spinner")],1):r("div",{staticClass:"container mb-5"},[t._m(0),r("div",{staticClass:"table-responsive-md"},[r("table",{staticClass:"table table-striped"},[t._m(1),r("tbody",t._l(t.orders,(function(e){return r("tr",{key:e.id},[r("td",{attrs:{scope:"row"}},[t._v(t._s(e.receiver_name))]),r("td",{attrs:{scope:"row"}},[t._v(t._s(e.phone))]),r("td",{attrs:{scope:"row"}},[r("router-link",{attrs:{to:{name:"adminOrder",params:{order_id:e.id}}}},[t._v(t._s(e.sn||"訂單尚未成立"))])],1),r("td",{attrs:{scope:"row"}},[t._v(t._s(e.total_price))]),r("td",{attrs:{scope:"row"}},[t._v(t._s(e.payment_method))]),r("td",{attrs:{scope:"row"}},[t._v(t._s(1==e.payment_status?"已付款":99==e.payment_status?"取消付款":"尚未付款"))]),r("td",{attrs:{scope:"row"}},[t._v(t._s(0==e.shipping_status?"尚未出貨":"已出貨"))]),r("td",{attrs:{scope:"row"}},[r("button",{staticClass:"btn btn-outline-success btn-sm",attrs:{type:"button",id:"updateBtn"},on:{click:function(r){return r.preventDefault(),r.stopPropagation(),t.postTransition(e)}}},[t._v("更新暨查詢")])]),r("div",{staticClass:"modal fade",attrs:{id:"orderModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalScrollableTitle","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog modal-dialog-scrollable",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title",attrs:{id:"exampleModalScrollableTitle"}},[t._v("訂單編號："+t._s(e.sn))]),t._m(2,!0)]),r("div",{staticClass:"modal-body text-left"},[r("p",[t._v("商店代號："+t._s(t.spgResponse.MerchantID))]),r("p",[t._v("交易金額："+t._s(t.spgResponse.Amt))]),r("p",[t._v("藍新金流交易序號："+t._s(t.spgResponse.TradeNo))]),r("p",[t._v(" 支付狀態："+t._s(t.spgResponse.TradeStatus)+" "),r("br"),r("small",{staticClass:"text-muted"},[t._v("數字回應代表: 0=未付款 1=付款成功 2=付款失敗 3=取消付款")])]),r("p",[t._v(" 支付方式："+t._s(t.spgResponse.PaymentType)+" "),r("br"),r("small",{staticClass:"text-muted"},[t._v("英文回應代表: CREDIT=信用卡付款 / CVSCOM=超商取貨付款 / VACC=銀行ATM轉帳付款 / WEBATM=網路銀行轉帳付款 / BARCODE=超商條碼繳費 / CVS=超商代碼繳費")])]),r("p",[t._v("交易建立時間："+t._s(t.spgResponse.CreateTime))]),r("p",[t._v("支付時間："+t._s(t.spgResponse.PayTime))]),r("p",[t._v("檢核碼CheckCode："+t._s(t.spgResponse.CheckCode))]),r("p",[t._v("預計撥款日："+t._s(t.spgResponse.FundTime))]),r("hr"),"CREDIT"==t.spgResponse.PaymentType?r("div",[r("p",{staticClass:"text-success"},[t._v("當該筆交易為信用卡交易時，會新增回應下列欄位：")]),r("p",[t._v(" 交易類別："+t._s(t.spgResponse.PaymentMethod)+" "),r("br"),r("small",{staticClass:"text-muted"},[t._v("英文回應代表: CREDIT = 台灣發卡機構核發之信用卡 / FOREIGN = 國外發卡機構核發之卡 / NTCB = 國民旅遊卡 / UNIONPAY = 銀聯卡 / APPLEPAY = ApplePay / GOOGLEPAY = GooglePay / SAMSUNGPAY = SamsungPay")])]),r("p",[t._v("金融機構回應碼："+t._s(t.spgResponse.RespondCode))]),r("p",[t._v("授權碼："+t._s(t.spgResponse.Auth))]),r("p",[t._v("請款金額："+t._s(t.spgResponse.CloseAmt))]),r("p",[t._v("請款狀態："+t._s(t.spgResponse.CloseStatus))]),r("p",[t._v("可退款餘額："+t._s(t.spgResponse.BackBalance))]),r("p",[t._v("退款狀態："+t._s(t.spgResponse.BackStatus))]),r("p",[t._v("授權結果訊息："+t._s(t.spgResponse.RespondMsg))]),r("p",[t._v("分期-期別："+t._s(t.spgResponse.Inst))]),r("p",[t._v("分期-首期金額："+t._s(t.spgResponse.InstFirst))]),r("p",[t._v("分期-每期金額："+t._s(t.spgResponse.InstEach))])]):t._e()])])])])])})),0)])]),t.totalPage>1?r("nav",{attrs:{"aria-label":"Page navigation"}},[r("ul",{staticClass:"pagination"},[r("li",{directives:[{name:"show",rawName:"v-show",value:t.previousPage,expression:"previousPage"}],staticClass:"page-item"},[r("router-link",{staticClass:"page-link",attrs:{"aria-label":"Previous",to:{name:"adminOrders",query:{page:t.previousPage}}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])],1),t._l(t.totalPage,(function(e){return r("li",{key:e,class:["page-item",{active:t.currentPage===e}]},[r("router-link",{staticClass:"page-link",attrs:{to:{name:"adminOrders",query:{page:e}}}},[t._v(t._s(e))])],1)})),r("li",{directives:[{name:"show",rawName:"v-show",value:t.nextPage,expression:"nextPage"}],staticClass:"page-item"},[r("router-link",{staticClass:"page-link",attrs:{to:{name:"adminOrders",query:{page:t.nextPage}},"aria-label":"Next"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])],1)],2)]):t._e()])],1)},Qr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-left"},[r("h1",[t._v("訂單列表")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"thead-dark"},[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("收件人")]),r("th",{attrs:{scope:"col"}},[t._v("收件人電話")]),r("th",{attrs:{scope:"col"}},[t._v("訂單編號")]),r("th",{attrs:{scope:"col"}},[t._v("價格")]),r("th",{attrs:{scope:"col"}},[t._v("付款方式")]),r("th",{attrs:{scope:"col"}},[t._v("付款狀態")]),r("th",{attrs:{scope:"col"}},[t._v("出貨狀態")]),r("th",{attrs:{scope:"col"}})])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],Gr={postTransition:function(t){var e=t.amt,r=t.sn;return f.post("/admins/orders/transition",{amt:e,sn:r})}},Yr={components:{adminNav:De,spinner:xt},data:function(){return{orders:[],spgResponse:[],totalPage:0,currentPage:0}},created:function(){var t=this.$route.query.page;this.fetchAdminOrders({page:t})},beforeRouteUpdate:function(t,e,r){var s=t.query.page;this.fetchAdminOrders({page:s}),r()},computed:{previousPage:function(){return 1===this.currentPage?null:this.currentPage-1},nextPage:function(){return this.currentPage+1>this.totalPage?null:this.currentPage+1},isLoading:function(){return this.$store.state.isLoading}},methods:{fetchAdminOrders:function(t){var e,r,s,a,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.page,r=void 0===e?1:e,i.prev=1,this.$store.dispatch("updateLoading",!0),i.next=5,regeneratorRuntime.awrap(Re.orders.get({page:r}));case 5:if(s=i.sent,a=s.data,n=s.statusText,console.log(a),"OK"===n){i.next=11;break}throw new Error(n);case 11:this.orders=a.orders,this.currentPage=a.page,this.totalPage=a.totalPage.length,this.$store.dispatch("updateLoading",!1),i.next=21;break;case 17:i.prev=17,i.t0=i["catch"](1),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得訂單資料"});case 21:case"end":return i.stop()}}),null,this,[[1,17]])},postTransition:function(t){var e,r,s,a,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.total_price,r=t.sn,i.prev=2,i.next=5,regeneratorRuntime.awrap(Gr.postTransition({amt:e,sn:r}));case 5:if(s=i.sent,a=s.data,n=s.statusText,console.log(a),"OK"===n){i.next=11;break}throw new Error(n);case 11:return this.spgResponse=a.response.Result,i.next=14,regeneratorRuntime.awrap(this.fetchAdminOrders(1));case 14:this.openOrderModal(),i.next=20;break;case 17:i.prev=17,i.t0=i["catch"](2),console.log(i.t0);case 20:case"end":return i.stop()}}),null,this,[[2,17]])},openOrderModal:function(){pt()("#orderModal").modal("show")}}},Xr=Yr,Jr=Object(P["a"])(Xr,Hr,Qr,!1,null,null,null),Zr=Jr.exports,ts=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"adminOrder"},[r("admin-nav"),t.isLoading?r("div",[r("spinner")],1):r("div",[r("div",{staticClass:"table-responsive-md"},[r("h3",{staticClass:"text-left container"},[t._v("會員資料")]),r("table",{staticClass:"userInfo table container mb-5"},[r("tbody",[r("tr",[r("td",{staticClass:"font-weight-bold"},[t._v("訂單編號")]),r("td",[t._v(t._s(t.order.sn))]),r("td",{staticClass:"font-weight-bold"},[t._v("收件人姓名")]),r("td",[t._v(t._s(t.order.receiverName))]),r("td",{staticClass:"font-weight-bold"},[t._v("收件人電話")]),r("td",[t._v(t._s(t.order.receiverPhone))])]),r("tr",[r("td",{staticClass:"font-weight-bold"},[t._v("付款方式")]),r("td",[t._v(t._s(t.order.paymentMethod))]),r("td",{staticClass:"font-weight-bold"},[t._v("付款狀態")]),r("td",[t._v(t._s(t.order.paymentStatus))]),r("td",{staticClass:"font-weight-bold"},[t._v("配送狀態")]),r("td",[t._v(t._s(t.order.shippingStatus))])]),r("tr",[r("td",{staticClass:"font-weight-bold"},[t._v("配送方式")]),r("td",[t._v(t._s(t.order.shippingMethod))]),r("td",{staticClass:"font-weight-bold"},[t._v("配送地址")]),r("td",[t._v(t._s(t.order.receiverAddress))]),r("td",{staticClass:"font-weight-bold"},[t._v("優惠券")]),r("td",[t._v(t._s(t.coupon.coupon_code))])])])])]),r("div",{staticClass:"container"},[r("h3",{staticClass:"text-left"},[t._v("訂購商品")]),r("div",{staticClass:"table-responsive-md"},[r("table",{staticClass:"table table-striped"},[t._m(0),r("tbody",t._l(t.productItems,(function(e){return r("tr",{key:e.ProductId},[r("td",[t._v(t._s(e.ProductId))]),r("td",[t._v(t._s(e.ProductName))]),r("td",[t._v(t._s(e.color))]),r("td",[t._v(t._s(e.size))]),r("td",[t._v(t._s(e.SellPrice))]),r("td",[t._v(t._s(e.quantity))])])})),0)])]),r("div",{staticClass:"container text-right"},[r("h3",{staticClass:"my-2"},[t._v(" 原價： "),r("span",[t._v(t._s(t.originPrice))])]),r("h3",{staticClass:"my-2"},[t._v(" 折扣：- "),r("span",[t._v(t._s(t.coupon.discount_amount))])]),r("h3",{staticClass:"my-2"},[t._v(" 運費： "),r("span",[t._v(t._s(t.freight))])]),r("h3",{staticClass:"my-2"},[t._v(" 總計： "),r("span",[t._v(t._s(t.order.totalPrice))])])])]),r("div",{staticClass:"container"},[r("button",{staticClass:"btn btn-outline-success mx-3 my-5",on:{click:t.goToBack}},[t._v("回上一頁")]),r("router-link",{staticClass:"btn btn-outline-dark mx-3 my-5",attrs:{to:{name:"adminOrderEdit",params:{id:t.order.id}}}},[t._v("編輯訂單")])],1)])],1)},es=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"thead-dark"},[r("tr",[r("th",[t._v("商品編號")]),r("th",[t._v("品名")]),r("th",[t._v("顏色")]),r("th",[t._v("尺寸")]),r("th",[t._v("價格")]),r("th",[t._v("數量")])])])}],rs={components:{adminNav:De,spinner:xt},data:function(){return{order:{id:0,sn:"",totalPrice:0,receiverName:"",receiverAddress:"",receiverPhone:"",shippingStatus:"",shippingMethod:"",paymentStatus:"",paymentMethod:"",comment:""},coupon:0,productItems:[],originPrice:0,freight:0}},created:function(){var t=this.$route.params.order_id;this.fetchAdminOrder(t)},beforeRouteUpdate:function(t,e,r){var s=t.params.order_id;this.fetchAdminOrder(s),r()},computed:{isLoading:function(){return this.$store.state.isLoading}},methods:{fetchAdminOrder:function(t){var e,r,s,a,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,this.$store.dispatch("updateLoading",!0),o.next=4,regeneratorRuntime.awrap(Re.orders.getDetail({orderId:t}));case 4:if(e=o.sent,r=e.data,s=e.statusText,"OK"===s){o.next=9;break}throw new Error(s);case 9:for(a=0,n=r.order.orderItems.map((function(t){return t.SellPrice*t.quantity})),i=0;i<n.length;i++)a+=n[i];this.order={id:r.order.id,sn:r.order.sn,totalPrice:r.order.total_price,receiverName:r.order.receiver_name,receiverAddress:r.order.address,receiverPhone:r.order.phone,shippingStatus:r.order.shipping_status,shippingMethod:r.order.shipping_method,paymentStatus:r.order.payment_status,paymentMethod:r.order.payment_method,comment:r.order.comment},this.coupon=r.order.coupon||{coupon_code:"沒有使用優惠卷",discount_amount:0},this.productItems=r.order.orderItems,this.originPrice=a,"0"===r.order.shipping_method?this.freight=100:this.freight=0,this.$store.dispatch("updateLoading",!1),o.next=24;break;case 20:o.prev=20,o.t0=o["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得訂單詳細資訊"});case 24:case"end":return o.stop()}}),null,this,[[0,20]])},goToBack:function(){this.$router.go(-1)}}},ss=rs,as=(r("b510"),Object(P["a"])(ss,ts,es,!1,null,"03754720",null)),ns=as.exports,is=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"adminOrderEdit"},[r("admin-nav"),t.isLoading?r("div",[r("spinner")],1):r("form",{staticClass:"container mb-5",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.putAdminOrder(t.$route.params.id)}}},[r("h3",{staticClass:"container text-left"},[t._v("會員資料")]),r("div",{staticClass:"table-responsive-md"},[r("table",{staticClass:"userInfo table container mb-5"},[r("tbody",[r("tr",[r("td",{staticClass:"font-weight-bold"},[t._v("訂單編號")]),r("td",[t._v(t._s(t.order.sn))]),r("td",{staticClass:"font-weight-bold"},[t._v("收件人")]),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.receiverName,expression:"order.receiverName"}],staticClass:"name form-control",attrs:{type:"text",name:"receiver_name",id:"receiver_name"},domProps:{value:t.order.receiverName},on:{input:function(e){e.target.composing||t.$set(t.order,"receiverName",e.target.value)}}})]),r("td",{staticClass:"font-weight-bold"},[t._v("收件人電話")]),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.receiverPhone,expression:"order.receiverPhone"}],staticClass:"phone form-control",attrs:{type:"text",name:"phone",id:"phone"},domProps:{value:t.order.receiverPhone},on:{input:function(e){e.target.composing||t.$set(t.order,"receiverPhone",e.target.value)}}})])]),r("tr",[r("td",{staticClass:"font-weight-bold"},[t._v("會員編號")]),r("td",[t._v(t._s(t.order.UserId))]),r("td",{staticClass:"font-weight-bold"},[t._v("付款方式")]),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.paymentMethod,expression:"order.paymentMethod"}],staticClass:"paymentMethod form-control",attrs:{type:"text",disabled:"",name:"paymentMethod",id:"paymentMethod"},domProps:{value:t.order.paymentMethod},on:{input:function(e){e.target.composing||t.$set(t.order,"paymentMethod",e.target.value)}}})]),r("td",{staticClass:"font-weight-bold"},[t._v("付款狀態")]),r("td",[r("select",{directives:[{name:"model",rawName:"v-model",value:t.order.paymentStatus,expression:"order.paymentStatus"}],staticClass:"form-control",attrs:{id:"payment_status",name:"payment_status"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.order,"paymentStatus",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"0"}},[t._v("未付款")]),r("option",{attrs:{value:"1"}},[t._v("付款成功")]),r("option",{attrs:{value:"2"}},[t._v("付款失敗")]),r("option",{attrs:{value:"99"}},[t._v("取消付款")])])])]),r("tr",[r("td",{staticClass:"font-weight-bold"},[t._v("配送方式")]),r("td",[r("select",{directives:[{name:"model",rawName:"v-model",value:t.order.shippingMethod,expression:"order.shippingMethod"}],staticClass:"form-control",attrs:{id:"shipping_method",name:"shipping_method"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.order,"shippingMethod",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"0"}},[t._v("宅配")]),r("option",{attrs:{value:"1"}},[t._v("超商取貨")]),r("option",{attrs:{value:"2"}},[t._v("超商取貨付款")])])]),r("td",{staticClass:"font-weight-bold"},[t._v("配送地址")]),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.receiverAddress,expression:"order.receiverAddress"}],staticClass:"shippingAddress form-control",attrs:{type:"text",name:"address",id:"address"},domProps:{value:t.order.receiverAddress},on:{input:function(e){e.target.composing||t.$set(t.order,"receiverAddress",e.target.value)}}})]),r("td",{staticClass:"font-weight-bold"},[t._v("優惠券")]),r("td",[t._v(t._s(t.order.coupon.coupon_code))])])])]),r("div",{staticClass:"container"},[r("h3",{staticClass:"text-left"},[t._v("訂購商品")]),r("div",{staticClass:"table-responsive-md"},[r("table",{staticClass:"table table-striped"},[t._m(0),r("tbody",t._l(t.products,(function(e){return r("tr",{key:e.ProductId},[r("td",[t._v(t._s(e.ProductId))]),r("td",[t._v(t._s(e.ProductName))]),r("td",[t._v(t._s(e.color))]),r("td",[t._v(t._s(e.size))]),r("td",[t._v(t._s(e.SellPrice))]),r("td",[t._v(t._s(e.quantity))])])})),0)])])]),r("div",{staticClass:"container text-right"},[r("h3",{staticClass:"my-2"},[t._v(" 原價： "),r("span",[t._v(t._s(t.originPrice))])]),r("h3",{staticClass:"my-2"},[t._v(" 折扣：- "),r("span",[t._v(t._s(t.order.coupon.discount_amount))])]),r("h3",{staticClass:"my-2"},[t._v(" 運費： "),r("span",[t._v(t._s(t.feight))])]),r("h3",{staticClass:"my-2"},[t._v(" 總計： "),r("span",[t._v(t._s(t.order.totalPrice))])])])]),r("div",{staticClass:"container"},[r("a",{staticClass:"btn btn-outline-success mx-3 my-5",attrs:{href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("回上一頁")]),r("button",{staticClass:"btn btn-outline-dark mx-3",attrs:{type:"submit"}},[t._v("確認修改")])])])],1)},os=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"thead-dark"},[r("tr",[r("th",[t._v("商品編號")]),r("th",[t._v("品名")]),r("th",[t._v("顏色")]),r("th",[t._v("尺寸")]),r("th",[t._v("價格")]),r("th",[t._v("數量")])])])}],cs={components:{adminNav:De,spinner:xt},data:function(){return{order:{id:0,UserId:"",sn:"",totalPrice:0,receiverName:"",receiverAddress:"",receiverPhone:"",shippingStatus:"",shippingMethod:"",paymentStatus:"",paymentMethod:"",comment:"",coupon:{}},products:[],originPrice:0,feight:0}},created:function(){var t=this.$route.params.id;this.fetchAdminOrder(t)},beforeRouteUpdate:function(t,e,r){var s=t.params.id;this.fetchAdminOrder(s),r()},computed:{isLoading:function(){return this.$store.state.isLoading}},methods:{fetchAdminOrder:function(t){var e,r,s,a,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,this.$store.dispatch("updateLoading",!0),o.next=4,regeneratorRuntime.awrap(Re.orders.getDetail({orderId:t}));case 4:if(e=o.sent,r=e.data,s=e.statusText,console.log(r),"OK"===s||"success"===r.status){o.next=10;break}throw new Error(s);case 10:for(a=0,n=r.order.orderItems.map((function(t){return t.SellPrice*t.quantity})),i=0;i<n.length;i++)a+=n[i];this.order={id:r.order.id,sn:r.order.sn,UserId:r.order.UserId,totalPrice:r.order.total_price,receiverName:r.order.receiver_name,receiverAddress:r.order.address,receiverPhone:r.order.phone,shippingStatus:r.order.shipping_status,shippingMethod:r.order.shipping_method,paymentStatus:r.order.payment_status,paymentMethod:r.order.payment_method,comment:r.order.comment,coupon:r.order.coupon||{coupon_code:"沒有使用優惠卷",discount_amount:0}},this.products=r.order.orderItems,this.originPrice=a,"0"===r.order.shipping_method?this.feight=100:this.feight=0,this.$store.dispatch("updateLoading",!1),o.next=24;break;case 20:o.prev=20,o.t0=o["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"取得訂單資料失敗"});case 24:case"end":return o.stop()}}),null,this,[[0,20]])},putAdminOrder:function(t){var e,r,s,a,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if(o.prev=0,this.order.receiverName&&this.order.receiverPhone&&this.order.receiverAddress){o.next=4;break}return g.fire({icon:"error",title:"請確認輸入的內容，每個欄位都要有資料"}),o.abrupt("return");case 4:return this.$store.dispatch("updateProcessing",!0),e=window.event,r=e.target,s=new FormData(r),o.next=10,regeneratorRuntime.awrap(Re.orders.put({id:t,formData:s}));case 10:if(a=o.sent,n=a.data,i=a.statusText,"OK"===i&&"OK"===n.status){o.next=15;break}throw new Error(i);case 15:this.$store.dispatch("updateProcessing",!1),this.$router.push({name:"adminOrders"}),o.next=23;break;case 19:o.prev=19,o.t0=o["catch"](0),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"編輯訂單資料失敗"});case 23:case"end":return o.stop()}}),null,this,[[0,19]])}}},us=cs,ds=(r("41c8"),Object(P["a"])(us,is,os,!1,null,"02db1e64",null)),ls=ds.exports,ps=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("adminNav"),t.isLoading?r("div",[r("spinner")],1):r("div",{staticClass:"container mb-5"},[r("div",{staticClass:"text-left"},[r("h1",[t._v("優惠碼列表")]),r("form",{staticClass:"my-4"},[r("div",{staticClass:"form-row"},[t._m(0),r("div",{staticClass:"col-auto"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newCouponCode,expression:"newCouponCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入折扣碼"},domProps:{value:t.newCouponCode},on:{input:function(e){e.target.composing||(t.newCouponCode=e.target.value)}}})]),r("div",{staticClass:"col-auto"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newCouponAmount,expression:"newCouponAmount"}],staticClass:"form-control",attrs:{type:"number",placeholder:"請輸入折扣金額"},domProps:{value:t.newCouponAmount},on:{input:function(e){e.target.composing||(t.newCouponAmount=e.target.value)}}})]),r("div",{staticClass:"col-auto"},[r("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.createCoupon(e)}}},[t._v("確認新增")])])])])]),r("div",{staticClass:"table-responsive-md"},[r("table",{staticClass:"table table-striped"},[t._m(1),r("tbody",t._l(t.coupons,(function(e){return r("tr",{key:e.id},[r("td",{attrs:{scope:"row"}},[t._v(t._s(e.coupon_code))]),r("td",{attrs:{scope:"row"}},[t._v(t._s(e.discount_amount))]),r("td",{attrs:{scope:"row"}},[r("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.deleteCoupon(e.id)}}},[t._v("刪除")])])])})),0)])])])],1)},ms=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-auto"},[r("h3",[t._v("新增折扣：")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"thead-dark"},[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("coupon code")]),r("th",{attrs:{scope:"col"}},[t._v("折扣金額")]),r("th",{attrs:{scope:"col"}},[t._v("刪除")])])])}];function vs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function hs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vs(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var fs={components:{adminNav:De,spinner:xt},data:function(){return{coupons:[],newCouponCode:"",newCouponAmount:""}},created:function(){this.fetchCoupons()},computed:{isProcessing:function(){return this.$store.state.isProcessing},isLoading:function(){return this.$store.state.isLoading}},methods:{fetchCoupons:function(){var t,e,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,this.$store.dispatch("updateLoading",!0),s.next=4,regeneratorRuntime.awrap(Re.coupons.get());case 4:if(t=s.sent,e=t.data,r=t.statusText,"OK"===r){s.next=9;break}throw new Error(r);case 9:this.coupons=e.coupons,this.$store.dispatch("updateLoading",!1),s.next=17;break;case 13:s.prev=13,s.t0=s["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"取得優惠碼資料失敗"});case 17:case"end":return s.stop()}}),null,this,[[0,13]])},createCoupon:function(){var t,e,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,this.newCouponCode&&this.newCouponAmount){s.next=4;break}return g.fire({icon:"warning",title:"請輸入優惠碼編號跟金額"}),s.abrupt("return");case 4:return this.$store.dispatch("updateProcessing",!0),s.next=7,regeneratorRuntime.awrap(Re.coupons.post({couponCode:this.newCouponCode,discountAmount:this.newCouponAmount}));case 7:if(t=s.sent,e=t.data,r=t.statusText,"OK"===r||"success"===e.status){s.next=12;break}throw new Error(r);case 12:this.coupons.push(hs({},e.coupons)),this.newCouponCode="",this.newCouponAmount="",this.fetchCoupons(),this.$store.dispatch("updateProcessing",!1),s.next=23;break;case 19:s.prev=19,s.t0=s["catch"](0),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"新增優惠碼失敗"});case 23:case"end":return s.stop()}}),null,this,[[0,19]])},deleteCoupon:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,this.$store.dispatch("updateProcessing",!0),a.next=4,regeneratorRuntime.awrap(Re.coupons.delete({id:t}));case 4:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s||"success"===r.status){a.next=9;break}throw new Error(s);case 9:this.coupons=this.coupons.filter((function(e){return e.id!==t})),this.$store.dispatch("updateProcessing",!1),a.next=17;break;case 13:a.prev=13,a.t0=a["catch"](0),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"刪除優惠碼失敗"});case 17:case"end":return a.stop()}}),null,this,[[0,13]])}}},gs=fs,bs=Object(P["a"])(gs,ps,ms,!1,null,null,null),_s=bs.exports,ws=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"d-flex justify-content-center"},[r("form",{staticClass:"w-75 mt-4",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[r("div",{staticClass:"form-label-group mb-2"},[r("label",{staticClass:"d-flex",attrs:{for:"name"}},[t._v("使用者名稱:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{id:"name",name:"name",type:"text",placeholder:"Enter name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),r("div",{staticClass:"form-label-group mb-2"},[r("label",{staticClass:"d-flex",attrs:{for:"email"}},[t._v("Email:")]),r("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email",name:"email",type:"email",placeholder:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),r("span",{staticClass:"d-flex"},[r("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])])]}}])}),r("small",{staticClass:"text-muted"},[t._v("＊提醒：Email為會員登入帳號及聯絡信箱。")])],1),r("div",{staticClass:"form-label-group mb-2"},[r("label",{staticClass:"d-flex",attrs:{for:"birthday"}},[t._v("生日:")]),r("ValidationProvider",{attrs:{rules:{regex:"^\\d{4}[\\-/\\.](0?[1-9]|1[012])[\\-/\\.](0?[1-9]|[12][0-9]|3[01])$"}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.birthday,expression:"birthday"}],staticClass:"form-control",attrs:{id:"birth",name:"birth",type:"date",value:"2019-12-25"},domProps:{value:t.birthday},on:{input:function(e){e.target.composing||(t.birthday=e.target.value)}}}),r("span",{staticClass:"d-flex"},[r("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])])]}}])})],1),r("div",{staticClass:"form-label-group mb-2"},[r("label",{staticClass:"d-flex",attrs:{for:"address"}},[t._v("地址:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",attrs:{id:"address",name:"address",type:"text",placeholder:"Enter address"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})]),r("div",{staticClass:"form-label-group mb-3"},[r("label",{staticClass:"d-flex",attrs:{for:"phone"}},[t._v("聯絡電話:")]),r("ValidationProvider",{attrs:{rules:{regex:/^\(?(\d{2})\)?[\s\-]?(\d{4})\-?(\d{4})$/}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{id:"phone",name:"phone",type:"text",placeholder:"Enter phone number"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),r("span",{staticClass:"d-flex"},[r("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])])]}}])})],1),r("button",{staticClass:"btn btn-lg btn-outline-secondary btn-block btn-sm mb-3",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(t._s(t.isProcessing?"資料更新中...":"更新使用者資料"))])])])])},Cs=[],ys={getCurrentUser:function(){return f.get("/get_current_user")},getUserOrders:function(){return f.get("/users/orders")},getUserOrder:function(t){var e=t.orderId;return f.get("/users/orders/".concat(e))},getUserFavorite:function(){return f.get("/users/wishlist")},postPasswordChange:function(t){var e=t.formData;return f.post("/users/password_change",e)},postPasswordForget:function(t){var e=t.formData;return f.post("/users/password_forget",e)},getResetPassword:function(t){var e=t.tokenId,r=t.token;return f.get("/users/password_reset/".concat(e,"/").concat(r))},postResetPassword:function(t){var e=t.formData;return f.post("/users/password_reset",e)},putUser:function(t){var e=t.formData;return f.put("/users/edit",e)}},Ps=r("7bb1");function xs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Os(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xs(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ks={components:{ValidationProvider:Ps["a"]},data:function(){return{id:0,name:"",email:"",birthday:"",phone:"",address:""}},computed:Os({},Object(u["b"])(["currentUser","isProcessing"]),{formData:function(){var t=this.id,e=this.name,r=this.email,s=this.birthday,a=this.phone,n=this.address;return{id:t,name:e,email:r,birthday:s,phone:a,address:n}}}),watch:{currentUser:function(){this.setUser()}},created:function(){this.setUser()},methods:{setUser:function(){this.id=this.currentUser.id,this.name=this.currentUser.name,this.email=this.currentUser.email,this.birthday=this.currentUser.birthday,this.phone=this.currentUser.phone,this.address=this.currentUser.address},handleSubmit:function(){var t,e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(this.email===this.currentUser.email.toString()){a.next=3;break}return g.fire({icon:"warning",title:"更新錯誤"}),a.abrupt("return");case 3:return t=this.formData,a.prev=4,this.$store.dispatch("updateProcessing",!0),a.next=8,regeneratorRuntime.awrap(ys.putUser({formData:t}));case 8:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s&&"success"===r.status){a.next=13;break}throw new Error(s);case 13:return g.fire({icon:"success",title:"使用者資料更新成功"}),a.next=16,regeneratorRuntime.awrap(this.$store.dispatch("updateCurrentUser",t));case 16:this.$router.push({name:"userEdit"}),this.$store.dispatch("updateProcessing",!1),a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](4),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"無法更新使用者資料，請稍後再試"});case 24:case"end":return a.stop()}}),null,this,[[4,20]])}}},js=ks,As=Object(P["a"])(js,ws,Cs,!1,null,null,null),$s=As.exports,Ss=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("h3",{staticClass:"mt-5"},[t._v("要重設密碼嗎?")]),r("h5",{staticClass:"mt-3"},[t._v("沒問題，我們將會寄一封重設密碼通知信給您")]),r("font-awesome-icon",{staticClass:"mt-4",attrs:{icon:"user-lock",size:"7x"}}),r("div",{staticClass:"d-flex justify-content-center"},[r("form",{staticClass:"mt-4 w-50",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email",name:"email",type:"email",placeholder:"請輸入註冊的Email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),r("button",{staticClass:"btn btn-lg btn-outline-secondary btn-sm mt-3",attrs:{type:"submit"}},[t._v("送出")])])])],1)},Es=[],Is={data:function(){return{email:""}},computed:{formData:function(){var t=this.email;return{email:t}}},methods:{handleSubmit:function(){var t,e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=this.formData,a.prev=1,a.next=4,regeneratorRuntime.awrap(ys.postPasswordForget({formData:t}));case 4:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s&&"success"===r.status){a.next=9;break}throw new Error(s);case 9:g.fire({icon:"success",title:"變更密碼信件已寄送，請確認電子信箱或垃圾信箱"}),this.$router.push({name:"userForgetPassword"}),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](1),g.fire({icon:"error",title:"變更密碼信件寄送失敗，請稍後再試"});case 16:case"end":return a.stop()}}),null,this,[[1,13]])}}},Ds=Is,Rs=Object(P["a"])(Ds,Ss,Es,!1,null,null,null),Ns=Rs.exports,Ls=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"d-flex justify-content-center"},[r("form",{staticClass:"w-75 mt-4",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[r("div",{staticClass:"form-label-group mb-2"},[r("label",{staticClass:"d-flex",attrs:{for:"name"}},[t._v("舊密碼:")]),r("ValidationProvider",{attrs:{rules:"required|password"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.usedPassword,expression:"usedPassword"}],staticClass:"form-control",attrs:{id:"used-password",name:"usedPassword",type:"password",placeholder:"請輸入目前使用的舊密碼",required:""},domProps:{value:t.usedPassword},on:{input:function(e){e.target.composing||(t.usedPassword=e.target.value)}}}),r("span",{staticClass:"d-flex"},[r("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])])]}}])})],1),r("div",{staticClass:"form-label-group mb-2"},[r("label",{staticClass:"d-flex",attrs:{for:"name"}},[t._v("新密碼:")]),r("ValidationProvider",{attrs:{rules:"required|password",vid:"newPassword"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{id:"new-password",name:"newPassword",type:"password",placeholder:"請設定您的新密碼",required:""},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}}),r("span",{staticClass:"d-flex"},[r("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])])]}}])})],1),r("div",{staticClass:"form-label-group mb-2"},[r("label",{staticClass:"d-flex",attrs:{for:"name"}},[t._v("新密碼確認:")]),r("ValidationProvider",{attrs:{rules:"required|confirmed:newPassword"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordCheck,expression:"passwordCheck"}],staticClass:"form-control",attrs:{id:"password-check",name:"passwordCheck",type:"password",placeholder:"請再輸入新密碼做確認",required:""},domProps:{value:t.passwordCheck},on:{input:function(e){e.target.composing||(t.passwordCheck=e.target.value)}}}),r("span",{staticClass:"d-flex"},[r("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])])]}}])})],1),r("button",{staticClass:"btn btn-lg btn-outline-secondary btn-block btn-sm mb-3",attrs:{type:"submit"}},[t._v(t._s(t.isProcessing?"資料更新中...":"更新密碼"))])])])])},Us=[],Ts={components:{ValidationProvider:Ps["a"]},data:function(){return{usedPassword:"",newPassword:"",passwordCheck:""}},computed:{isProcessing:function(){return this.$store.state.isProcessing},formData:function(){var t=this.usedPassword,e=this.newPassword,r=this.passwordCheck;return{usedPassword:t,newPassword:e,passwordCheck:r}}},methods:{handleSubmit:function(){var t,e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(this.usedPassword&&this.newPassword&&this.passwordCheck){a.next=3;break}return g.fire({icon:"warning",title:"所有欄位皆需填寫"}),a.abrupt("return");case 3:if(this.usedPassword!=this.newPassword){a.next=6;break}return g.fire({icon:"warning",title:"新密碼與舊密碼不可相同"}),a.abrupt("return");case 6:if(this.newPassword===this.passwordCheck){a.next=9;break}return g.fire({icon:"warning",title:"新密碼兩次輸入不一樣"}),a.abrupt("return");case 9:return t=this.formData,a.prev=10,this.$store.dispatch("updateProcessing",!0),a.next=14,regeneratorRuntime.awrap(ys.postPasswordChange({formData:t}));case 14:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s&&"success"===r.status){a.next=19;break}throw new Error(s);case 19:g.fire({icon:"success",title:"密碼更新成功，請用新密碼登入"}),this.$router.push({name:"signIn"}),this.$store.dispatch("updateProcessing",!1),a.next=28;break;case 24:a.prev=24,a.t0=a["catch"](10),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"密碼更新失敗，請確認密碼是否輸入正確"});case 28:case"end":return a.stop()}}),null,this,[[10,24]])}}},qs=Ts,zs=Object(P["a"])(qs,Ls,Us,!1,null,null,null),Fs=zs.exports,Ms=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[t.tokenValidation?[r("div",[r("h3",{staticClass:"mt-3"},[t._v("重設密碼")]),r("h5",{staticClass:"mt-3"},[t._v("再一步就完成更新了，請輸入您的新密碼")]),r("font-awesome-icon",{staticClass:"mt-4",attrs:{icon:"key",size:"7x"}}),r("div",{staticClass:"d-flex justify-content-center"},[r("form",{staticClass:"mt-4 w-50",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control",attrs:{id:"userId",name:"userId",type:"hidden",required:""},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],staticClass:"form-control",attrs:{id:"token",name:"token",type:"hidden",required:""},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}}),r("div",{staticClass:"form-label-group mb-2"},[r("label",{staticClass:"d-flex",attrs:{for:"name"}},[t._v("新密碼:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",placeholder:"請設定您的新密碼",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),r("div",{staticClass:"form-label-group mb-2"},[r("label",{staticClass:"d-flex",attrs:{for:"name"}},[t._v("新密碼確認:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordCheck,expression:"passwordCheck"}],staticClass:"form-control",attrs:{id:"password-check",name:"passwordCheck",type:"password",placeholder:"請再輸入新密碼做確認",required:""},domProps:{value:t.passwordCheck},on:{input:function(e){e.target.composing||(t.passwordCheck=e.target.value)}}})]),r("button",{staticClass:"btn btn-lg btn-outline-secondary btn-sm mt-3",attrs:{type:"submit"}},[t._v("送出")])])])],1)]:[r("div",[r("h3",{staticClass:"mt-3"},[t._v("Oops!!!")]),r("h5",{staticClass:"mt-3"},[t._v(" 請確認網址是否正確，或使用 "),r("router-link",{attrs:{to:{name:"userForgetPassword"}}},[t._v("忘記密碼")]),t._v("再次申請 ")],1),r("font-awesome-icon",{staticClass:"mt-4",attrs:{icon:"sad-tear",size:"7x"}})],1)]],2)},Ks=[],Bs={data:function(){return{userId:0,token:"",tokenValidation:!1,password:"",passwordCheck:""}},computed:{formData:function(){var t=this.userId,e=this.token,r=this.password,s=this.passwordCheck;return{userId:t,token:e,password:r,passwordCheck:s}}},created:function(){var t=this.$route.params,e=t.token_id,r=t.token;this.fetchResetPassword(e,r)},methods:{fetchResetPassword:function(t,e){var r,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,regeneratorRuntime.awrap(ys.getResetPassword({tokenId:t,token:e}));case 3:if(r=n.sent,s=r.data,a=r.statusText,"OK"===a){n.next=8;break}throw new Error(a);case 8:this.userId=s.userId,this.token=s.token,this.tokenValidation="success"==s.status,n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](0),g.fire({icon:"error",title:"網址有誤，請確認後再試"});case 16:case"end":return n.stop()}}),null,this,[[0,13]])},handleSubmit:function(){var t,e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(this.password===this.passwordCheck){a.next=3;break}return g.fire({icon:"warning",title:"新密碼兩次輸入不一樣"}),a.abrupt("return");case 3:return t=this.formData,a.prev=4,a.next=7,regeneratorRuntime.awrap(ys.postResetPassword({formData:t}));case 7:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s&&"success"===r.status){a.next=12;break}throw new Error(s);case 12:g.fire({icon:"success",title:"密碼更新成功，請用新密碼登入"}),this.$router.push({name:"signIn"}),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](4),g.fire({icon:"error",title:"密碼更新失敗，請確認資料是否正確"});case 19:case"end":return a.stop()}}),null,this,[[4,16]])}}},Vs=Bs,Ws=Object(P["a"])(Vs,Ms,Ks,!1,null,null,null),Hs=Ws.exports,Qs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[0==t.products.length?r("div",[r("h3",{staticClass:"mt-4"},[t._v("您還沒加入商品到Wish List喔，快去商場看看吧！")])]):r("div",{staticClass:"row"},t._l(t.products,(function(t){return r("productCard",{key:t.id,attrs:{"initial-product":t}})})),1)])},Gs=[];function Ys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Xs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ys(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Js={components:{productCard:bt},data:function(){return{isLoading:!1}},computed:Xs({},Object(u["b"])(["currentUser"]),{products:function(){return this.$store.state.wishList}}),created:function(){this.fetchUserFavorite()},beforeRouteUpdate:function(t,e,r){this.fetchUserFavorite(),r()},methods:{fetchUserFavorite:function(){this.$store.dispatch("fetchUserFavorite")}}},Zs=Js,ta=Object(P["a"])(Zs,Qs,Gs,!1,null,null,null),ea=ta.exports,ra=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container py-5"},[0==t.items.length?s("div",[s("h1",[t._v("My Cart")]),s("h3",{staticClass:"mt-4"},[t._v("您還沒加入商品到購物車喔，快去商場看看吧！")])]):s("div",[s("h1",[t._v("My Cart")]),s("table",{staticClass:"table table-striped"},[t._m(0),s("tbody",[t._l(t.items,(function(e){return s("tr",{key:e.id},[s("th",{attrs:{scope:"row"}},[s("router-link",{attrs:{to:{name:"product",params:{id:e.ProductId}}}},[s("vue-load-image",[s("img",{staticClass:"img-fluid",attrs:{slot:"image",src:e.images[0].url,alt:"Responsive image",width:"150px"},slot:"image"}),s("img",{staticClass:"img-fluid",attrs:{slot:"preloader",width:"150px",src:r("325a")},slot:"preloader"}),s("div",{staticClass:"img-fluid",attrs:{slot:"error"},slot:"error"},[t._v("圖片下載失敗")])])],1)],1),s("td",{staticClass:"align-middle"},[s("router-link",{attrs:{to:{name:"product",params:{id:e.ProductId}}}},[t._v(t._s(e.name))]),s("p",[t._v("Color:"+t._s(e.color)+", Size:"+t._s(e.size))])],1),s("td",{staticClass:"align-middle"},[t._v(t._s(t._f("currency")(e.sell_price)))]),s("td",{staticClass:"align-middle",on:{dblclick:function(r){return t.editQty(e)}}},[e.id===t.cacheItem.id?s("div",[s("form",{on:{submit:function(r){return r.preventDefault(),r.stopPropagation(),t.putCartItem(e)}}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.cacheQty,expression:"cacheQty"}],attrs:{id:"quantity",type:"number",name:"quantity",value:"1","data-decimals":"0",min:"1",max:"20",step:"1"},domProps:{value:t.cacheQty},on:{input:function(e){e.target.composing||(t.cacheQty=e.target.value)}}})]),s("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("done")])]),s("a",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.cancelEdit()}}},[t._v("cancel")])]):s("div",[t._v(t._s(e.quantity))])]),s("td",{staticClass:"align-middle"},[t._v(t._s(t._f("currency")(e.sell_price*e.quantity)))]),s("td",{staticClass:"align-middle"},[s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.deleteCartItem(e.id)}}},[t._v("Ｘ")])])])})),t.coupon.isValid?s("tr",[s("th",{attrs:{scope:"row"}}),s("td",{attrs:{colspan:"3"}},[t._v("折扣碼("+t._s(t.coupon.coupon_code)+")")]),s("td",[t._v("- "+t._s(t._f("currency")(t.coupon.discount_amount)))]),s("td")]):t._e(),s("tr",[s("th",{attrs:{scope:"row"}}),s("td",{attrs:{colspan:"3"}},[t._v("小計")]),s("td",[t._v(t._s(t._f("currency")(t.totalPrice)))]),s("td")])],2)]),s("form",{staticClass:"form-inline ml-3"},[s("div",{staticClass:"form-group mx-sm-3"},[s("label",{staticClass:"sr-only",attrs:{for:"input-coupon"}},[t._v("輸入優惠序號")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control",attrs:{type:"text",id:"couponCode",name:"couponCode",placeholder:"輸入優惠序號"},domProps:{value:t.couponCode},on:{input:function(e){e.target.composing||(t.couponCode=e.target.value)}}})]),s("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.postCoupon(t.couponCode)}}},[t._v("使用")])]),s("button",{staticClass:"btn btn-outline-secondary btn-block mt-3",attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.postOrder()}}},[t._v("結帳")])])])},sa=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}}),r("th",{attrs:{scope:"col"}},[t._v("商品名稱")]),r("th",{attrs:{scope:"col"}},[t._v("價格")]),r("th",{attrs:{scope:"col"}},[t._v(" 數量 "),r("small",{staticClass:"text-muted"},[t._v("(雙擊修改數量)")])]),r("th",{attrs:{scope:"col"}},[t._v("小計")]),r("th",{attrs:{scope:"col"}})])])}];function aa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?aa(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ia={mixins:[dt],components:{"vue-load-image":H.a},data:function(){return{items:[],total:0,cacheItem:{},cacheQty:0,coupon:{id:-1,coupon_code:"",discount_amount:0,isValid:!1},couponCode:""}},created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$store.dispatch("fetchUserCart"));case 2:this.items=this.cartItems,this.total=this.totalPrice;case 4:case"end":return t.stop()}}),null,this)},computed:na({},Object(u["b"])(["currentUser","isProcessing"]),{cartItems:function(){return this.$store.state.cart},totalPrice:function(){var t=this.items.reduce((function(t,e){return t+e.sell_price*e.quantity}),0);return.3*t<=this.coupon.discount_amount&&this.items.length>0&&(g.fire({icon:"error",title:"折扣碼已未達金額限制"}),this.cleanCoupon()),t-this.coupon.discount_amount},cartData:function(){var t=this.cacheQty;return{quantity:t}},orderData:function(){return{formData:{couponCode:this.coupon.coupon_code,total:this.totalPrice}}}}),methods:{cleanCoupon:function(){this.coupon.id=-1,this.coupon.coupon_code="",this.coupon.discount_amount=0,this.coupon.isValid=!1},deleteCartItem:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(fe.deleteCartItem({itemId:t}));case 3:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s&&"success"===r.status){a.next=8;break}throw new Error(s);case 8:return a.next=10,regeneratorRuntime.awrap(this.$store.dispatch("fetchUserCart"));case 10:this.items=this.items.filter((function(e){return e.id!==t})),g.fire({icon:"success",title:"商品成功從購物車移除"}),a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](0),g.fire({icon:"error",title:"暫時無法移除該項商品，請稍後再試"});case 17:case"end":return a.stop()}}),null,this,[[0,14]])},editQty:function(t){this.cacheItem=t,this.cacheQty=t.quantity},cancelEdit:function(){this.cacheItem={},this.cacheQty=0},putCartItem:function(t){var e,r,s,a,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.id,r=this.cartData.quantity,i.prev=2,i.next=5,regeneratorRuntime.awrap(fe.putCartItem({itemId:e,quantity:r}));case 5:if(s=i.sent,a=s.data,n=s.statusText,"OK"===n&&"success"===a.status){i.next=10;break}throw new Error(n);case 10:return g.fire({icon:"success",title:"商品更新成功"}),i.next=13,regeneratorRuntime.awrap(this.$store.dispatch("fetchUserCart"));case 13:this.items=this.cartItems,this.total=this.totalPrice,t.quantity=this.cacheQty,this.cacheItem={},this.cacheQty=0,i.next=23;break;case 20:i.prev=20,i.t0=i["catch"](2),g.fire({icon:"error",title:"暫時無法更新購物車，請稍後再試"});case 23:case"end":return i.stop()}}),null,this,[[2,20]])},postCoupon:function(t){var e,r,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(e=t,t){n.next=4;break}return g.fire({icon:"error",title:"請輸入折扣碼後再試"}),n.abrupt("return");case 4:return n.prev=4,n.next=7,regeneratorRuntime.awrap(fe.postCoupon({couponCode:e}));case 7:if(r=n.sent,s=r.data,a=r.statusText,"OK"===a&&"success"===s.status){n.next=12;break}throw new Error(a);case 12:if(!(.3*this.total<=s.CouponId.discount_amount)){n.next=16;break}return g.fire({icon:"error",title:"折扣碼條件不符，請確認後再試"}),this.couponCode="",n.abrupt("return");case 16:this.coupon=na({},this.coupon,{},s.CouponId,{isValid:!0}),this.total=this.totalPrice,this.couponCode="",n.next=24;break;case 21:n.prev=21,n.t0=n["catch"](4),g.fire({icon:"error",title:"折扣碼有誤，請確認後再試"});case 24:case"end":return n.stop()}}),null,this,[[4,21]])},postOrder:function(){var t,e,r,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t=this.orderData.formData,n.prev=1,this.$store.dispatch("updateProcessing",!0),n.next=5,regeneratorRuntime.awrap(fe.postOrder({formData:t}));case 5:if(e=n.sent,r=e.data,s=e.statusText,"OK"===s&&"success"===r.status){n.next=10;break}throw new Error(s);case 10:return a=r.OrderId,n.next=13,regeneratorRuntime.awrap(this.$store.dispatch("fetchUserCart"));case 13:this.$router.push("/orders/".concat(a,"/checkout")),this.$store.dispatch("updateProcessing",!1),n.next=21;break;case 17:n.prev=17,n.t0=n["catch"](1),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"Error"});case 21:case"end":return n.stop()}}),null,this,[[1,17]])}}},oa=ia,ca=Object(P["a"])(oa,ra,sa,!1,null,null,null),ua=ca.exports,da=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container py-5"},[s("form",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit(e)}}},[s("h5",{staticClass:"text-left"},[t._v("結帳提醒")]),s("hr"),s("p",{staticClass:"text-left w-80 ml-3"},[t._v("＊請確認訂購的商品及顏色尺寸是否正確，訂單完成後若要修改請聯絡客服")]),s("p",{staticClass:"text-left w-80 ml-3"},[t._v("＊訂單一旦取消後，若要再次購買，只能重新訂購，並以訂購當下官網顯示的商品價格及活動為主")]),s("p",{staticClass:"text-left w-80 ml-3"},[t._v("＊若訂單顯示出貨中，表示已進入出貨流程，恕無法取消訂單")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("h5",{staticClass:"text-left"},[t._v("選擇物流")]),s("hr"),s("div",{staticClass:"ml-3 text-left"},[s("div",{staticClass:"form-check"},[s("label",{staticClass:"form-check-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.deliver,expression:"deliver"}],staticClass:"form-check-input",attrs:{type:"radio",name:"deliverToHome",id:"deliverToHome",value:"0"},domProps:{checked:t._q(t.deliver,"0")},on:{change:function(e){t.deliver="0"}}}),t._v(" 宅配 ")])]),s("div",{staticClass:"form-check"},[s("label",{staticClass:"form-check-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.deliver,expression:"deliver"}],staticClass:"form-check-input",attrs:{type:"radio",name:"deliverToShop",id:"deliverToShop",value:"1"},domProps:{checked:t._q(t.deliver,"1")},on:{change:function(e){t.deliver="1"}}}),t._v(" 超商取貨 ")])]),s("div",{staticClass:"form-check"},[s("label",{staticClass:"form-check-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.deliver,expression:"deliver"}],staticClass:"form-check-input",attrs:{type:"radio",name:"payToShop",id:"payToShop",value:"2"},domProps:{checked:t._q(t.deliver,"2")},on:{change:function(e){t.deliver="2"}}}),t._v(" 超商取貨付款 ")])])])]),s("div",{staticClass:"col-md-6"},[s("h5",{staticClass:"text-left"},[t._v("選擇金流")]),s("hr"),s("div",{staticClass:"ml-3 text-left"},[s("div",{staticClass:"form-check"},[s("label",{staticClass:"form-check-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.payment,expression:"payment"}],staticClass:"form-check-input",attrs:{type:"radio",name:"payOnline",id:"payOnline",value:"spgateway"},domProps:{checked:t._q(t.payment,"spgateway")},on:{change:function(e){t.payment="spgateway"}}}),t._v(" 藍新金流 ")])])])])]),s("h5",{staticClass:"text-left mt-3"},[t._v("結帳商品")]),s("table",{staticClass:"table table-striped"},[t._m(0),s("tbody",[t._l(t.orders,(function(e){return s("tr",{key:e.orderItem.id},[s("th",{attrs:{scope:"row"}},[s("vue-load-image",[s("img",{staticClass:"img-fluid",attrs:{slot:"image",src:e.images[0].url,alt:"Responsive image",width:"150px"},slot:"image"}),s("img",{staticClass:"img-fluid",attrs:{slot:"preloader",width:"150px",src:r("325a")},slot:"preloader"}),s("div",{staticClass:"img-fluid",attrs:{slot:"error"},slot:"error"},[t._v("圖片下載失敗")])])],1),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.productName)+" "),s("p",[t._v(" Color:"+t._s(e.orderItem.color)+", Size:"+t._s(e.orderItem.size)+" ")])]),s("td",{staticClass:"align-middle"},[t._v(t._s(t._f("currency")(e.orderItem.sell_price)))]),s("td",{staticClass:"align-middle"},[t._v(t._s(e.orderItem.quantity))]),s("td",{staticClass:"align-middle"},[t._v(t._s(t._f("currency")(e.subtotal)))])])})),s("tr",{staticClass:"table-light",staticStyle:{"border-top":"3px gray solid"}},[s("th"),s("td",{attrs:{colspan:"3"}},[t._v("小計")]),s("td",[t._v(t._s(t._f("currency")(t.orderSubTotal)))])]),s("tr",{staticClass:"table-light"},[s("th"),s("td",{attrs:{colspan:"3"}},[t._v("運費")]),s("td",[t._v(t._s(t._f("currency")(t.deliverCost)))])]),s("tr",{staticClass:"table-light"},[s("th"),s("td",{attrs:{colspan:"3"}},[t._v("折扣")]),s("td",[t._v("-"+t._s(t._f("currency")(t.couponDiscount)))])]),s("tr",{staticClass:"table-info"},[s("th"),s("td",{attrs:{colspan:"3"}},[t._v("總計")]),s("td",[t._v(t._s(t._f("currency")(t.amount)))])])],2)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[t._m(1),s("hr"),s("table",{staticClass:"table table-borderless"},[s("tbody",[s("tr",[s("th",{attrs:{scope:"row"}}),s("td",{staticClass:"d-flex"},[s("button",{staticClass:"btn btn-outline-success btn-sm",attrs:{disabled:t.isProcessing},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.updateUser()}}},[t._v("同步更新會員資料")])])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("姓名")]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"order-name",name:"orderName",placeholder:"name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("手機號碼")]),s("td",[s("ValidationProvider",{attrs:{rules:{regex:/^\(?(\d{2})\)?[\s\-]?(\d{4})\-?(\d{4})$/}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],staticClass:"form-control",attrs:{type:"text",id:"order-phone",name:"orderPhone",placeholder:"phone number"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)}}}),s("span",{staticClass:"d-flex"},[s("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])])]}}])})],1)]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("連絡地址")]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.address,expression:"user.address"}],staticClass:"form-control",attrs:{type:"text",id:"order-address",name:"orderAddress",placeholder:"address"},domProps:{value:t.user.address},on:{input:function(e){e.target.composing||t.$set(t.user,"address",e.target.value)}}})])])])])]),s("div",{staticClass:"col-md-6"},[s("h5",{staticClass:"text-left mt-3"},[t._v("收件人員")]),s("hr"),s("table",{staticClass:"table table-borderless"},[s("tbody",[s("tr",[s("th",{attrs:{scope:"row"}}),s("td",{staticClass:"d-flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.receiver.checked,expression:"receiver.checked"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.receiver.checked)?t._i(t.receiver.checked,null)>-1:t.receiver.checked},on:{click:function(e){return t.includeReceiverData(t.receiver.checked)},change:function(e){var r=t.receiver.checked,s=e.target,a=!!s.checked;if(Array.isArray(r)){var n=null,i=t._i(r,n);s.checked?i<0&&t.$set(t.receiver,"checked",r.concat([n])):i>-1&&t.$set(t.receiver,"checked",r.slice(0,i).concat(r.slice(i+1)))}else t.$set(t.receiver,"checked",a)}}}),t._v(" 收件人同訂購人員 ")])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("姓名")]),s("td",[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.receiver.name,expression:"receiver.name"}],staticClass:"form-control",attrs:{type:"text",id:"receiver-name",name:"receiverName",placeholder:"name"},domProps:{value:t.receiver.name},on:{input:function(e){e.target.composing||t.$set(t.receiver,"name",e.target.value)}}}),s("span",{staticClass:"d-flex"},[s("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])])]}}])})],1)]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("手機號碼")]),s("td",[s("ValidationProvider",{attrs:{rules:{required:{allowFalse:!1},regex:/^\(?(\d{2})\)?[\s\-]?(\d{4})\-?(\d{4})$/}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.receiver.phone,expression:"receiver.phone"}],staticClass:"form-control",attrs:{type:"text",id:"receiver-phone",name:"receiverPhone",placeholder:"phone number"},domProps:{value:t.receiver.phone},on:{input:function(e){e.target.composing||t.$set(t.receiver,"phone",e.target.value)}}}),s("span",{staticClass:"d-flex"},[s("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])])]}}])})],1)]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("寄件地址")]),s("td",[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.receiver.address,expression:"receiver.address"}],staticClass:"form-control",attrs:{type:"text",id:"receiver-address",name:"receiverAddress",placeholder:"address"},domProps:{value:t.receiver.address},on:{input:function(e){e.target.composing||t.$set(t.receiver,"address",e.target.value)}}}),s("span",{staticClass:"d-flex"},[s("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])])]}}])})],1)])])])])]),s("button",{staticClass:"btn btn-outline-secondary btn-block",attrs:{type:"submit"}},[t._v("確認訂單")])])])},la=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}}),r("th",{attrs:{scope:"col"}},[t._v("商品名稱")]),r("th",{attrs:{scope:"col"}},[t._v("價格")]),r("th",{attrs:{scope:"col"}},[t._v("數量")]),r("th",{attrs:{scope:"col"}},[t._v("小計")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",{staticClass:"text-left mt-3"},[t._v(" 訂購人員 "),r("small",{staticClass:"text-muted"},[t._v("*訂單完成信件將會寄送至會員信箱，如已更改請至會員專區修改。")])])}];function pa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function ma(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pa(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var va={mixins:[dt],components:{ValidationProvider:Ps["a"],"vue-load-image":H.a},data:function(){return{orders:[],orderSubTotal:0,couponDiscount:0,shippingTotal:0,total:0,user:{name:"",phone:"",address:""},receiver:{name:"",phone:"",address:"",checked:!1},deliver:"0",payment:"spgateway"}},created:function(){var t=this.$route.params.id;this.fetchCheckout(t),this.user.name=this.currentUser.name,this.user.phone=this.currentUser.phone,this.user.address=this.currentUser.address},computed:ma({},Object(u["b"])(["currentUser","isProcessing"]),{amount:function(){return 0==this.deliver?this.total+100:this.total},deliverCost:function(){return 0==this.deliver?this.shippingTotal+100:this.shippingTotal},userData:function(){return{formData:{name:this.user.name,phone:this.user.phone,address:this.user.address,email:this.currentUser.email}}},formData:function(){return{receiverName:this.receiver.name,receiverPhone:this.receiver.phone,receiverAddress:this.receiver.address,total:this.amount,orderId:this.$route.params.id,deliver:this.deliver}}}),methods:{fetchCheckout:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(fe.getCheckout({orderId:t}));case 3:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s){a.next=8;break}throw new Error(s);case 8:this.orders=r.orderItems,this.orderSubTotal=r.orderSubTotal,this.couponDiscount=r.couponDiscount,this.shippingTotal=r.shippingTotal,this.total=r.total,a.next=18;break;case 15:a.prev=15,a.t0=a["catch"](0),g.fire({icon:"error",title:"無法取得訂單資訊，請稍後再試"});case 18:case"end":return a.stop()}}),null,this,[[0,15]])},updateUser:function(){var t,e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=this.userData.formData,a.prev=1,this.$store.dispatch("updateProcessing",!0),a.next=5,regeneratorRuntime.awrap(ys.putUser({formData:t}));case 5:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s&&"success"===r.status){a.next=10;break}throw new Error(s);case 10:return g.fire({icon:"success",title:"使用者資料更新成功"}),a.next=13,regeneratorRuntime.awrap(this.$store.dispatch("updateCurrentUser",t));case 13:this.$store.dispatch("updateProcessing",!1),a.next=20;break;case 16:a.prev=16,a.t0=a["catch"](1),this.$store.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"無法更新使用者資料，請稍後再試"});case 20:case"end":return a.stop()}}),null,this,[[1,16]])},includeReceiverData:function(t){0==t?(this.receiver.name=this.user.name,this.receiver.phone=this.user.phone,this.receiver.address=this.user.address):(this.receiver.name="",this.receiver.phone="",this.receiver.address="")},handleSubmit:function(){var t,e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(t=this.formData,e=this.$route.params.id,this.receiver.name&&this.receiver.phone&&this.receiver.address){a.next=5;break}return g.fire({icon:"error",title:"收件人相關資訊皆需填寫"}),a.abrupt("return");case 5:return a.prev=5,a.next=8,regeneratorRuntime.awrap(fe.postCheckout({formData:t}));case 8:r=a.sent,s=r.data,"success"===s.status&&this.$router.push("/orders/".concat(e,"/payment")),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](5),console.log(a.t0);case 16:case"end":return a.stop()}}),null,this,[[5,13]])}}},ha=va,fa=Object(P["a"])(ha,da,la,!1,null,null,null),ga=fa.exports,ba=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[t._v("感謝您的訂購，確認信將會寄送到您的會員Email:"+t._s(t.buyer.email))]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-8"},[r("h5",{staticClass:"text-left mt-3"},[t._v("結帳商品")]),r("table",{staticClass:"table table-striped"},[t._m(0),r("tbody",[t._l(t.orderItems,(function(e){return r("tr",{key:e.name},[r("th",{attrs:{scope:"row"}},[r("img",{staticClass:"img-fluid",attrs:{src:e.images[0].url,alt:"Responsive image",width:"150px"}})]),r("td",{staticClass:"align-middle"},[t._v(t._s(e.name))]),r("td",{staticClass:"align-middle"},[t._v(t._s(e.quantity))])])})),r("tr",{staticClass:"table-light",staticStyle:{"border-top":"3px gray solid"}},[r("th"),r("td",{attrs:{colspan:"1"}},[t._v("總付款金額(含運費及折扣)")]),r("td",[t._v(t._s(t._f("currency")(t.total)))])])],2)])]),r("div",{staticClass:"col-md-4"},[r("h5",{staticClass:"text-left mt-3"},[t._v("收件人員")]),r("table",{staticClass:"table table-borderless"},[r("tbody",[r("tr",[r("th",{attrs:{scope:"row"}},[t._v("姓名")]),r("td",[t._v(t._s(t.receiver.name))])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("手機號碼")]),r("td",[t._v(t._s(t.receiver.phone))])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("寄件地址")]),r("td",[t._v(t._s(t.receiver.address))])])])])])]),r("button",{staticClass:"btn btn-outline-secondary btn-block",attrs:{type:"submit"},on:{click:t.goHomePage}},[t._v("繼續購物")])])},_a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}}),r("th",{attrs:{scope:"col"}},[t._v("商品名稱")]),r("th",{attrs:{scope:"col"}},[t._v("數量")])])])}];function wa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Ca(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wa(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ya={mixins:[dt],data:function(){return{orderItems:[],total:0,receiver:{name:"",phone:"",address:"",email:""},buyer:{name:"",phone:"",address:""}}},created:function(){var t=this.$route.query,e=t.Status,r=t.orderId;this.fetchPaymentComplete({Status:e,orderId:r})},methods:{fetchPaymentComplete:function(t){var e,r,s,a,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.Status,r=t.orderId,i.prev=1,i.next=4,regeneratorRuntime.awrap(fe.getPaymentComplete({Status:e,orderId:r}));case 4:if(s=i.sent,a=s.data,n=s.statusText,"OK"===n){i.next=9;break}throw new Error(n);case 9:this.orderItems=a.orderItems,this.total=a.total,this.receiver=Ca({},this.receiver,{},a.receiver),this.buyer=Ca({},this.buyer,{},a.buyer),i.next=18;break;case 15:i.prev=15,i.t0=i["catch"](1),console.log(i.t0);case 18:case"end":return i.stop()}}),null,this,[[1,15]])},goHomePage:function(){return this.$router.push("/index")}}},Pa=ya,xa=Object(P["a"])(Pa,ba,_a,!1,null,null,null),Oa=xa.exports,ka=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container mt-4"},[t.isLoading?r("div",[r("spinner")],1):r("div",[0==t.filterOrders.length?r("div",[r("h3",{staticClass:"mt-4"},[t._v("您目前無訂購紀錄喔，快去商場看看吧！")])]):r("div",[r("table",{staticClass:"table table-striped"},[t._m(0),r("tbody",t._l(t.filterOrders,(function(e){return r("tr",{key:e.id},[r("th",{staticClass:"align-middle",attrs:{scope:"row"}},[r("router-link",{attrs:{to:{name:"order",params:{order_id:e.id}}}},[t._v("#"+t._s(e.sn))]),r("p",[t._v("@"+t._s(t._f("timeFormate")(e.createdAt)))])],1),r("td",{staticClass:"align-middle"},[t._v(" NTD "+t._s(e.total_price)+" ")]),r("td",{staticClass:"align-middle"},[t._v(t._s(1==e.payment_status?"已付款":"未付款"))]),r("td",{staticClass:"align-middle"},[t._v(t._s(0==e.shipping_status?"尚未出貨":"其他"))]),r("td",{staticClass:"align-middle"},[e.total_price?t._e():r("p",[t._v(" 尚未收到您的訂單，您可 "),r("br"),r("button",{staticClass:"btn btn-sm btn-outline-dark",on:{click:function(r){return t.continuousOrder(e.id)}}},[t._v("繼續下單")])])])])})),0)])])])])},ja=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("訂單編號")]),r("th",{attrs:{scope:"col"}},[t._v("總計")]),r("th",{attrs:{scope:"col"}},[t._v("付款狀態")]),r("th",{attrs:{scope:"col"}},[t._v("運送狀態")]),r("th",{attrs:{scope:"col"}},[t._v("備註")])])])}];r("4e82");function Aa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function $a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Aa(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Sa={mixins:[ut],components:{spinner:xt},data:function(){return{orders:[]}},computed:$a({},Object(u["b"])(["currentUser","isLoading"]),{filterOrders:function(){return this.orders.filter((function(t){return"99"!==t.payment_status})).sort((function(t,e){return e.id-t.id}))}}),created:function(){this.fetchUserOrders()},methods:{fetchUserOrders:function(){var t,e,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,this.$store.dispatch("updateLoading",!0),s.next=4,regeneratorRuntime.awrap(ys.getUserOrders());case 4:if(t=s.sent,e=t.data,r=t.statusText,"OK"===r){s.next=9;break}throw new Error(r);case 9:this.orders=e.orders,this.$store.dispatch("updateLoading",!1),s.next=17;break;case 13:s.prev=13,s.t0=s["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"無法取得訂單資料，請稍後再試"});case 17:case"end":return s.stop()}}),null,this,[[0,13]])},continuousOrder:function(t){this.$router.push({name:"checkout",params:{id:t}})}}},Ea=Sa,Ia=Object(P["a"])(Ea,ka,ja,!1,null,null,null),Da=Ia.exports,Ra=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container mt-4"},[t.isLoading?r("div",[r("spinner")],1):r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-8"},[r("h5",[t._v("訂單編號#"+t._s(t.order.sn))]),r("table",{staticClass:"table table-striped"},[t._m(0),r("tbody",[t._l(t.productItems,(function(e){return r("tr",{key:e.id},[r("th",{attrs:{scope:"row"}},[r("img",{staticClass:"img-fluid",attrs:{src:e.Images[0].url,alt:"Responsive image",width:"150px"}})]),r("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.name)+" "),r("p",[t._v("尺寸:"+t._s(e.OrderItem.size)+", 顏色："+t._s(e.OrderItem.color))])]),r("td",{staticClass:"align-middle"},[t._v(t._s(t._f("currency")(e.sell_price)))]),r("td",{staticClass:"align-middle"},[t._v(t._s(e.OrderItem.quantity))]),r("td",{staticClass:"align-middle"},[t._v(t._s(t._f("currency")(e.OrderItem.sell_price*e.OrderItem.quantity)))])])})),r("tr",{staticClass:"table-light",staticStyle:{"border-top":"3px gray solid"}},[r("th"),r("td",{attrs:{colspan:"3"}},[t._v("小計")]),r("td",[t._v(t._s(t._f("currency")(t.subtotal)))])]),r("tr",{staticClass:"table-light"},[r("th"),r("td",{attrs:{colspan:"3"}},[t._v("運費")]),r("td",[t._v(t._s(t._f("currency")(t.deliveryCost)))])]),t.coupon?r("tr",{staticClass:"table-light"},[r("th"),r("td",{attrs:{colspan:"3"}},[t._v("折扣 (折扣碼"+t._s(t.coupon.coupon_code)+")")]),r("td",[t._v("-"+t._s(t._f("currency")(t.coupon.discount_amount)))])]):t._e(),r("tr",{staticClass:"table-info"},[r("th"),r("td",{attrs:{colspan:"3"}},[t._v("總計")]),r("td",[t._v(t._s(t._f("currency")(t.order.totalPrice)))])])],2)])]),r("div",{staticClass:"col-md-4"},[r("h5",[t._v("訂購資料")]),r("table",{staticClass:"table"},[r("tbody",[r("tr",[r("th",{attrs:{scope:"row"}},[t._v("收件人")]),r("td",[t._v(t._s(t.order.receiverName))])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("收件地址")]),r("td",[t._v(t._s(t.order.receiverAddress))])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("收件電話")]),r("td",[t._v(t._s(t.order.receiverPhone))])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("運送狀態")]),r("td",[t._v(t._s(0==t.order.shippingStatus?"尚未出貨":"其他"))])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("付款方式")]),r("td",[t._v(t._s(t.payment))])]),t._m(1)])])])])])},Na=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}}),r("th",{attrs:{scope:"col"}},[t._v("商品名稱")]),r("th",{attrs:{scope:"col"}},[t._v("價格")]),r("th",{attrs:{scope:"col"}},[t._v("數量")]),r("th",{attrs:{scope:"col"}},[t._v("小計")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("th",{attrs:{scope:"row"}},[t._v("出貨時間")]),r("td",[t._v("@Date")])])}];function La(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Ua(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?La(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ta={mixins:[dt],components:{spinner:xt},data:function(){return{order:{id:0,sn:"",totalPrice:0,receiverName:"",receiverAddress:"",receiverPhone:"",shippingStatus:"",shippingMethod:"",paymentStatus:"",paymentMethod:""},coupon:[],productItems:[]}},computed:Ua({},Object(u["b"])(["currentUser","isLoading"]),{subtotal:function(){return this.productItems.reduce((function(t,e){return t+e.OrderItem.sell_price*e.OrderItem.quantity}),0)},deliveryCost:function(){return 1==this.order.paymentStatus?100:0},payment:function(){var t={null:"尚未付款",CREDIT:"信用卡",CVSCOM:"超商貨到付款"},e=this.order.paymentMethod;return t[e]}}),created:function(){var t=this.$route.params.order_id;this.fetchUserOrder(t)},beforeRouteUpdate:function(t,e,r){var s=t.params.order_id;this.fetchUserOrder(s),r()},methods:{fetchUserOrder:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,this.$store.dispatch("updateLoading",!0),a.next=4,regeneratorRuntime.awrap(ys.getUserOrder({orderId:t}));case 4:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s){a.next=9;break}throw new Error(s);case 9:this.order={id:r.orders.id,sn:r.orders.sn,totalPrice:r.orders.total_price,receiverName:r.orders.receiver_name,receiverAddress:r.orders.address,receiverPhone:r.orders.phone,shippingStatus:r.orders.shipping_status,paymentStatus:r.orders.payment_status,paymentMethod:r.orders.payment_method},this.coupon=r.orders.Coupon,this.productItems=r.orders.items,this.$store.dispatch("updateLoading",!1),a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](0),this.$store.dispatch("updateLoading",!1),g.fire({icon:"error",title:"暫時無法取得訂單資料，請稍後再試"});case 19:case"end":return a.stop()}}),null,this,[[0,15]])}}},qa=Ta,za=Object(P["a"])(qa,Ra,Na,!1,null,null,null),Fa=za.exports,Ma=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5 d-flex justify-content-center"},[r("div",{staticClass:"card border-light w-75"},[t._m(0),t._m(1),r("div",{staticClass:"card-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12 border-right"},[r("form",{staticClass:"w-100",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmitSignIn(e)}}},[r("h4",[t._v("登入")]),r("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[r("div",{staticClass:"form-label-group mb-2 has-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-success",attrs:{id:"email",name:"email",type:"email",placeholder:"請輸入Email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),r("span",{staticClass:"d-flex"},[r("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])])])]}}])}),r("ValidationProvider",{attrs:{rules:"required|password"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[r("div",{staticClass:"form-label-group mb-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",placeholder:"請輸入密碼",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),r("span",{staticClass:"d-flex"},[r("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])])])]}}])}),r("button",{staticClass:"btn btn-lg btn-outline-secondary btn-block btn-sm mb-3",attrs:{type:"submit",disabled:t.isProcessing}},[t._v("登入")])],1)])])])])])},Ka=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-img signin-img"},[r("img",{staticClass:"img-fluid",attrs:{src:"https://picsum.photos/id/104/3840/2160",alt:"sign-in-img"}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-img-overlay mt-5 text-dark"},[r("h2",{staticClass:"card-title"},[t._v("WAP-D")]),r("h5",{staticClass:"card-text"},[t._v("We always persist in dream")])])}];function Ba(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Va(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ba(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ba(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Wa={signIn:function(t){var e=t.email,r=t.password;return f.post("/signin",{email:e,password:r})},signUp:function(t){return f.post("/signup",Va({},t))}},Ha={components:{ValidationProvider:Ps["a"]},data:function(){return{email:"",password:"",registerEmail:"",registerPassword:"",registerPasswordCheck:""}},computed:{isProcessing:function(){return this.$store.state.isProcessing}},methods:{handleSubmitSignIn:function(){var t,e,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,this.email&&this.password){s.next=4;break}return g.fire({icon:"warning",title:"請填入 email 和 password"}),s.abrupt("return");case 4:return this.$store.dispatch("updateProcessing",!0),s.next=7,regeneratorRuntime.awrap(Wa.signIn({email:this.email,password:this.password}));case 7:if(t=s.sent,e=t.data,r=t.statusText,"OK"===r&&"success"===e.status){s.next=12;break}throw new Error(r);case 12:return localStorage.setItem("token",e.token),s.next=15,regeneratorRuntime.awrap(this.$store.commit("setCurrentUser",e.user));case 15:return s.next=17,regeneratorRuntime.awrap(this.$store.dispatch("fetchUserFavorite",e.user.id));case 17:g.fire({icon:"success",title:"登入成功"}),this.$router.go(-1),this.$store.dispatch("updateProcessing",!1),s.next=27;break;case 22:s.prev=22,s.t0=s["catch"](0),this.password="",this.$store.dispatch("updateProcessing",!1),g.fire({icon:"warning",title:"請確認您輸入的帳號密碼錯誤"});case 27:case"end":return s.stop()}}),null,this,[[0,22]])},handleSubmitSignUp:function(){var t,e,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,this.registerEmail&&this.registerPassword&&this.registerPasswordCheck){s.next=4;break}return g.fire({icon:"warning",title:"請確認，註冊欄位皆需填寫"}),s.abrupt("return");case 4:if(this.registerPassword===this.registerPasswordCheck){s.next=7;break}return g.fire({icon:"warning",title:"兩次密碼不同"}),s.abrupt("return");case 7:return this.$store.dispatch("updateProcessing",!0),s.next=10,regeneratorRuntime.awrap(Wa.signUp({email:this.registerEmail,password:this.registerPassword,passwordCheck:this.registerPasswordCheck}));case 10:if(t=s.sent,e=t.data,r=t.statusText,"OK"===r&&"success"===e.status){s.next=15;break}throw new Error(e.message);case 15:localStorage.setItem("token",e.token),this.$store.commit("setCurrentUser",e.user),g.fire({icon:"success",title:"註冊成功"}),this.$router.go(-1),this.$store.dispatch("updateProcessing",!1),s.next=28;break;case 22:s.prev=22,s.t0=s["catch"](0),this.$store.dispatch("updateProcessing",!1),this.registerPassword="",this.registerPasswordCheck="",g.fire({icon:"warning",title:"請確認您註冊的帳號密碼是否正確"});case 28:case"end":return s.stop()}}),null,this,[[0,22]])}}},Qa=Ha,Ga=(r("6f44"),Object(P["a"])(Qa,Ma,Ka,!1,null,"9362da16",null)),Ya=Ga.exports,Xa=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("div",{staticClass:"card border-white w-100"},[t._m(0),r("div",{staticClass:"card-img-overlay mt-5"},[r("h4",[t._v("Hi, "+t._s(t.email))])])]),r("ul",{staticClass:"nav nav-tabs mt-2"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"orders"}}},[t._v("訂單查詢")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"userEdit"}}},[t._v("帳號管理")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"userChangePassword"}}},[t._v("重設密碼")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"userWishList"}}},[t._v("Wish List")])],1)]),r("router-view")],1)},Ja=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-img user-bg"},[r("img",{staticClass:"img-fluid",attrs:{src:"https://picsum.photos/id/177/2515/1830",alt:"user-bg"}})])}];function Za(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function tn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Za(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Za(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var en={data:function(){return{id:0,name:"",email:""}},computed:tn({},Object(u["b"])(["currentUser"])),created:function(){this.setUser()},methods:{setUser:function(){this.id=this.currentUser.id,this.name=this.currentUser.name,this.email=this.currentUser.email}}},rn=en,sn=(r("12ae"),Object(P["a"])(rn,Xa,Ja,!1,null,"96b3a678",null)),an=sn.exports,nn=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},on=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pt-3"},[s("div",{staticClass:"header",attrs:{id:"aboutUs"}},[s("div",{staticClass:"info"},[s("h1",[t._v("WE ALWAYS PERSIST IN DREAM")]),s("p",[s("a",[t._v("我們總是堅持著夢想")])]),s("hr"),s("p",[s("a",[t._v(" WAP-D想要告訴大家 可以透過改變和堅持 完成自己的夢想 "),s("br"),t._v("沒有經營不了的自己 "),s("br"),t._v("我們集合流行品味與思考來協助您的穿著定位 "),s("br"),s("strong",[t._v('"穿著可以反映思想 思想可以改變穿著"')]),s("br"),t._v("我們做得到 相信你也可以! "),s("br"),t._v("on Jan 07, 2020 ")])]),s("div",{staticClass:"meta"},[s("a",{staticClass:"arrow",attrs:{target:"_b"}},[t._v("▼ ▼ ▼")])])])]),s("section",[s("div",{staticClass:"container timeline"},[s("div",{staticClass:"time-card left"},[s("div",{staticClass:"content"},[s("h2",[t._v("2020年")]),s("p",{staticClass:"text-left"},[t._v(" 網路品牌 "),s("strong",[t._v("WAP-D")]),t._v("正式成立 ")])])]),s("div",{staticClass:"time-card right"},[s("div",{staticClass:"content"},[s("h2",[t._v("2019年末")]),s("p",{staticClass:"text-left"},[t._v(" 我們用全新的時裝面貌 "),s("strong",[t._v("DREAM MAN")]),t._v("(太平店)呈現我們對夢想的堅持 ")])])]),s("div",{staticClass:"time-card left"},[s("div",{staticClass:"content"},[s("h2",[t._v("2019年初")]),s("p",{staticClass:"text-left"},[t._v("APEX_DANDY(一中店) 復活了，並且帶著信心歸來，這十幾年間，不斷挫折與成長，每每到了放棄邊緣，都是夢想提醒了我們")])])]),s("div",{staticClass:"time-card right"},[s("div",{staticClass:"content"},[s("h2",[t._v("2017年")]),s("p",{staticClass:"text-left"},[t._v("一中K.G.T用熱誠的街邊經營 告訴大家我們的堅定")])])]),s("div",{staticClass:"time-card left"},[s("div",{staticClass:"content"},[s("h2",[t._v("2007年")]),s("p",{staticClass:"text-left"},[t._v(" 2007年的夏天 一個年輕大膽的夢想 "),s("strong",[t._v("APEX_DANDY")]),t._v("在逢甲誕生了。用一種時尚花花公子的姿態，慢慢影響時下年輕人的穿著思維，我們經歷了日系、街頭、嘻哈、韓流、美式休閒等等流行趨勢。 "),s("br"),t._v("之間也遭遇了商場店鋪火災的厄運! 一度遭受連根拔起，在那個網路尚未普及且智慧型手機也未人手一機的時代... "),s("br"),t._v("往後幾年apex遭遇不斷搬遷，並且時運與機緣不佳，毫無頭緒。 "),s("br")])])])])]),s("hr"),s("section",{staticClass:"store-info py-4 container",attrs:{id:"contact"}},[s("h2",[t._v("我們的店")]),s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"card"},[s("img",{staticClass:"card-img-top",attrs:{src:r("f6a6"),alt:"apex_dandy"}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("APEX_DANDY")]),s("p",{staticClass:"card-text"},[t._v("地址：台中市北區三民路三段106巷")]),s("p",{staticClass:"card-text"},[t._v("營業時間：12:00 - 23:00")]),s("a",{staticClass:"btn btn-primary",attrs:{href:"https://www.facebook.com/KGT-小庵的店-405388429508237/"}},[t._v("Facebook")])])])]),s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"card"},[s("img",{staticClass:"card-img-top",attrs:{src:r("842d"),alt:"dream_man"}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("DREAM MAN")]),s("p",{staticClass:"card-text"},[t._v("地址：台中市太平區太順路403號")]),s("p",{staticClass:"card-text"},[t._v("營業時間：11:00 - 21:00")]),s("a",{staticClass:"btn btn-primary",attrs:{href:"https://www.facebook.com/Dream-Man夢幻男人-111226990294129/"}},[t._v("Facebook")])])])])])])])}],cn={mounted:function(){var t=this.$route.query.el;t&&this.gotoElement(t)},methods:{gotoElement:function(t){return this.$scrollTo(t,500)}}},un=cn,dn=(r("8385"),Object(P["a"])(un,nn,on,!1,null,"459a0a24",null)),ln=dn.exports,pn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("div",{attrs:{id:"spgateway-payment"}},[r("h1",[t._v("您即將進入藍新支付頁面：")]),r("div",[r("p",[t._v("訂單編號: "+t._s(t.orderId))]),r("p",[t._v("日期:"+t._s(t._f("timeFormate")(t.date)))]),r("p",[t._v("訂單總額: "+t._s(t.total))]),r("p",[t._v("付款方式: 藍新金流第三方金流平台")])]),r("form",{attrs:{id:"Spgateway",name:"Spgateway",action:t.tradeInfo.PayGateWay,method:"POST"}},[r("input",{attrs:{type:"hidden",name:"MerchantID"},domProps:{value:t.tradeInfo.MerchantID}}),r("input",{attrs:{type:"hidden",name:"TradeInfo"},domProps:{value:t.tradeInfo.TradeInfo}}),r("input",{attrs:{type:"hidden",name:"TradeSha"},domProps:{value:t.tradeInfo.TradeSha}}),r("input",{attrs:{type:"hidden",name:"Version"},domProps:{value:t.tradeInfo.Version}}),r("small",[t._v(" 三秒後會自動跳轉到藍新金流支付頁面，或者按下方按鈕直接前往... "),r("font-awesome-icon",{staticClass:"mt-4",attrs:{icon:"comment-dollar",size:"3x"}})],1),r("br"),r("button",{staticClass:"btn btn-lg btn-outline-secondary btn-sm mt-1",attrs:{type:"submit"}},[t._v("前往 藍新金流 支付頁面")])])])])},mn=[],vn={mixins:[ut],name:"spgatewayPayment",data:function(){return{tradeInfo:{},total:0,orderId:0,email:""}},computed:{date:function(){return Date()}},methods:{fetchPayment:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(fe.getPayment(t));case 3:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s){a.next=8;break}throw new Error(s);case 8:this.tradeInfo=r.tradeInfo,this.total=r.total,this.orderId=r.orderId,this.email=r.email,setTimeout((function(){pt()(document).ready((function(){document.Spgateway.submit()}))}),5e3),a.next=18;break;case 15:a.prev=15,a.t0=a["catch"](0),console.log(a.t0);case 18:case"end":return a.stop()}}),null,this,[[0,15]])}},created:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.next=3,regeneratorRuntime.awrap(this.fetchPayment(t));case 3:case"end":return e.stop()}}),null,this)}},hn=vn,fn=Object(P["a"])(hn,pn,mn,!1,null,null,null),gn=fn.exports,bn=r("bfa9");function _n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_n(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}s["default"].use(u["a"]);var Cn=new bn["a"]({key:"my-app",storage:window.localStorage}),yn=new u["a"].Store({plugins:[Cn.plugin],state:{currentUser:{id:-1,name:"",email:"",birthday:"",phone:"",address:"",role:!1},wishList:{},cart:{},isAuthenticated:!1,isProcessing:!1,isLoading:!0,token:""},mutations:{setCurrentUser:function(t,e){t.currentUser=wn({},t.currentUser,{},e),t.token=localStorage.getItem("token"),t.isAuthenticated=!0},updateCurrentUser:function(t,e){t.currentUser=wn({},t.currentUser,{},e)},revokeAuthentication:function(t){t.currentUser={},t.isAuthenticated=!1,t.token="",localStorage.removeItem("token")},WISHLIST:function(t,e){t.wishList=e},CART:function(t,e){t.cart=e},PROCESSING:function(t,e){t.isProcessing=e},LOADING:function(t,e){t.isLoading=e}},actions:{updateProcessing:function(t,e){t.commit("PROCESSING",e)},updateLoading:function(t,e){t.commit("LOADING",e)},updateCurrentUser:function(t,e){t.commit("updateCurrentUser",e)},fetchCurrentUser:function(t){var e,r,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return e=t.commit,n.prev=1,n.next=4,regeneratorRuntime.awrap(ys.getCurrentUser());case 4:if(r=n.sent,s=r.data,a=r.statusText,"OK"===a){n.next=9;break}throw new Error(a);case 9:return e("setCurrentUser",{id:s.id,name:s.name,email:s.email,birthday:s.birthday,phone:s.phone,address:s.address,role:s.role}),n.abrupt("return",!0);case 13:return n.prev=13,n.t0=n["catch"](1),e("revokeAuthentication"),n.abrupt("return",!1);case 17:case"end":return n.stop()}}),null,null,[[1,13]])},fetchUserFavorite:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(ys.getUserFavorite());case 3:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s){a.next=8;break}throw new Error(s);case 8:t.commit("WISHLIST",r.products),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),g.fire({icon:"error",title:"無法取得商品資訊，請稍後再試"});case 14:case"end":return a.stop()}}),null,null,[[0,11]])},addFavorite:function(t,e){var r,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.dispatch("updateProcessing",!0),n.next=4,regeneratorRuntime.awrap(_t.addFavorite({productId:e}));case 4:if(r=n.sent,s=r.data,a=r.statusText,"OK"===a&&"success"===s.status){n.next=9;break}throw new Error(a);case 9:return n.next=11,regeneratorRuntime.awrap(t.dispatch("fetchUserFavorite"));case 11:g.fire({icon:"success",title:"商品成功加入Wish List"}),t.dispatch("updateProcessing",!1),n.next=19;break;case 15:n.prev=15,n.t0=n["catch"](0),t.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"無法將商品加入Wish List，請稍後再試"});case 19:case"end":return n.stop()}}),null,null,[[0,15]])},deleteFavorite:function(t,e){var r,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.dispatch("updateProcessing",!0),n.next=4,regeneratorRuntime.awrap(_t.deleteFavorite({productId:e}));case 4:if(r=n.sent,s=r.data,a=r.statusText,"OK"===a&&"success"===s.status){n.next=9;break}throw new Error(a);case 9:return n.next=11,regeneratorRuntime.awrap(t.dispatch("fetchUserFavorite"));case 11:g.fire({icon:"success",title:"商品成功從Wish List移除"}),t.dispatch("updateProcessing",!1),n.next=19;break;case 15:n.prev=15,n.t0=n["catch"](0),t.dispatch("updateProcessing",!1),g.fire({icon:"error",title:"無法將商品從Wish List移除，請稍後再試"});case 19:case"end":return n.stop()}}),null,null,[[0,15]])},fetchUserCart:function(t){var e,r,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(fe.getUserCart());case 3:if(e=a.sent,r=e.data,s=e.statusText,"OK"===s){a.next=8;break}throw new Error(s);case 8:t.commit("CART",r.userCart.cartItem),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),g.fire({icon:"error",title:"暫時無法取得使用者購物車資料，請稍後再試"});case 14:case"end":return a.stop()}}),null,null,[[0,11]])}},getters:{wishList:function(t){return t.wishList}},modules:{}});s["default"].use(L["a"]);var Pn=function(t,e,r){var s=yn.state.current;!s||s.role?r():r("/404")},xn=[{path:"/",name:"root",redirect:"/index"},{path:"/signIn",name:"signIn",component:Ya},{path:"/index",name:"index",component:St},{path:"/about",name:"about",component:ln},{path:"/products",name:"products",component:Yt},{path:"/products/:id",name:"product",component:ke},{path:"/users/password_forget",name:"userForgetPassword",component:Ns},{path:"/users/password_reset/:token_id/:token",name:"userResetPassword",component:Hs},{path:"/users/cart",name:"cart",component:ua},{path:"/orders/:id/checkout",name:"checkout",component:ga},{path:"/orders/:id/payment",name:"spgatewayPayment",component:gn},{path:"/users/paymentcomplete",name:"paymentComplete",component:Oa},{path:"/users/",name:"users",component:an,children:[{path:"orders",name:"orders",component:Da},{path:"orders/:order_id",name:"order",component:Fa},{path:"password_change",name:"userChangePassword",component:Fs},{path:"edit",name:"userEdit",component:$s},{path:"wishlist",name:"userWishList",component:ea}]},{path:"/admin/categories",name:"adminCategories",component:ze,beforeEnter:Pn},{path:"/admin/users",name:"adminUsers",component:zr,beforeEnter:Pn},{path:"/admin/users/:id/orders",name:"adminUserOrders",component:Wr,beforeEnter:Pn},{path:"/admin/orders",name:"adminOrders",component:Zr,beforeEnter:Pn},{path:"/admin/orders/:id/edit",name:"adminOrderEdit",component:ls,beforeEnter:Pn},{path:"/admin/products",name:"adminProducts",component:tr,beforeEnter:Pn},{path:"/admin/products/:id/edit",name:"adminProductEdit",component:ir,beforeEnter:Pn},{path:"/admin/products/create",name:"adminProductCreate",component:fr,beforeEnter:Pn},{path:"/admin/products/:id/status",name:"adminProductStatus",component:yr,beforeEnter:Pn},{path:"/admin/products/:id/status/create",name:"adminProductStatusCreate",component:Ar,beforeEnter:Pn},{path:"/admin/products/:id/status/:stock_id/edit",name:"adminProductStatusEdit",component:Rr,beforeEnter:Pn},{path:"/admin/products/:id",name:"adminProduct",component:We,beforeEnter:Pn},{path:"/admin/orders/:order_id",name:"adminOrder",component:ns,beforeEnter:Pn},{path:"/admin/coupons",name:"adminCoupon",component:_s,beforeEnter:Pn},{path:"*",name:"notFound",component:F}],On=new L["a"]({linkExactActiveClass:"active",routes:xn});On.beforeEach((function(t,e,r){var s,a,n,i,o;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:if(s=localStorage.getItem("token"),a=yn.state.token,n=yn.state.isAuthenticated,!s||s===a){c.next=7;break}return c.next=6,regeneratorRuntime.awrap(yn.dispatch("fetchCurrentUser"));case 6:n=c.sent;case 7:if(i=["signIn","index","about","products","product","userForgetPassword","userResetPassword"],!i.includes(t.name)){c.next=11;break}return r(),c.abrupt("return");case 11:if(n||"sign-in"===t.name){c.next=14;break}return r("/signin"),c.abrupt("return");case 14:if(!n||"sign-in"!==t.name){c.next=17;break}return r("/products"),c.abrupt("return");case 17:"checkout"===e.name&&"spgatewayPayment"===t.name?r():"checkout"===e.name&&"spgatewayPayment"!==t.name&&(o=window.confirm("訂單尚未成立，確定要離開? (*提醒：本筆訂單可於兩小時內於[會員]>[訂單查詢]繼續下單*)"),o?r():r(!1)),r();case 19:case"end":return c.stop()}}))}));var kn=On,jn=r("ecee"),An=r("c074"),$n=r("f2d1"),Sn=r("b702"),En=r("ad3d"),In=r("4c93"),Dn=r("60d4");function Rn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Nn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rn(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}Object(Ps["c"])("zh_TW",Dn),Object(Ps["b"])("required",Nn({},In["f"],{message:"這個欄位為必填"})),Object(Ps["b"])("email",Nn({},In["c"],{message:"請填入有效的Email"})),Object(Ps["b"])("password",{validate:function(t){return t.length>=6&&t.length<=50},message:"密碼為6碼以上，並至少含一個英文及數字"}),Object(Ps["b"])("confirmed",Nn({},In["b"],{message:"密碼確認欄位驗證有誤"})),Object(Ps["b"])("length",Nn({},In["d"],{message:"This field must have 2 options"})),Object(Ps["b"])("alpha_num",Nn({},In["a"],{message:"僅可填入英文及數字"})),Object(Ps["b"])("regex",Nn({},In["e"],{message:"格式有誤"}));var Ln=r("5299"),Un=r.n(Ln),Tn=r("f13c"),qn=r.n(Tn);jn["c"].add(An["n"],An["l"],An["a"],An["m"],$n["a"],$n["c"],$n["b"],An["f"],Sn["a"],An["o"],An["p"],An["g"],An["k"],An["d"],An["j"],An["h"],An["i"],An["e"],An["b"],An["c"]),s["default"].component("font-awesome-icon",En["a"]),s["default"].use(Un.a),s["default"].use(qn.a),s["default"].config.productionTip=!1,new s["default"]({router:kn,store:yn,render:function(t){return t(N)}}).$mount("#app")},"57bf":function(t,e,r){},"5b23":function(t,e,r){"use strict";var s=r("8262"),a=r.n(s);a.a},"68b3":function(t,e,r){"use strict";var s=r("98b5"),a=r.n(s);a.a},"6f44":function(t,e,r){"use strict";var s=r("2a76"),a=r.n(s);a.a},"799d":function(t,e,r){},8262:function(t,e,r){},8385:function(t,e,r){"use strict";var s=r("799d"),a=r.n(s);a.a},"842d":function(t,e,r){t.exports=r.p+"img/dream2.16efc5a1.jpg"},"85ec":function(t,e,r){},"871f":function(t,e,r){},"8c9f":function(t,e,r){"use strict";var s=r("8f1c"),a=r.n(s);a.a},"8f1c":function(t,e,r){},"98b5":function(t,e,r){},"9ed5":function(t,e,r){},b510:function(t,e,r){"use strict";var s=r("57bf"),a=r.n(s);a.a},d42d:function(t,e,r){},d6fd:function(t,e,r){"use strict";var s=r("4c49"),a=r.n(s);a.a},e217:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABOwAAALuAQMAAAAnkxv3AAAABlBMVEXT09OWlpYMkBsfAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAiklEQVR4nO3BMQEAAADCoPVPbQdvoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgMdHhAAEwYn5zAAAAAElFTkSuQmCC"},e9fb:function(t,e,r){"use strict";var s=r("fc20"),a=r.n(s);a.a},f0ba:function(t,e,r){},f6a6:function(t,e,r){t.exports=r.p+"img/apex1.cc74c050.jpg"},f90c:function(t,e,r){"use strict";var s=r("d42d"),a=r.n(s);a.a},fc20:function(t,e,r){}});
//# sourceMappingURL=app.226a3aa5.js.map